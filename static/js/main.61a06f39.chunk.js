/*! For license information please see main.61a06f39.chunk.js.LICENSE.txt */
(this["webpackJsonpmod-tool"]=this["webpackJsonpmod-tool"]||[]).push([[0],{16:function(t,e,r){t.exports=r(29)},21:function(t,e,r){},22:function(t,e,r){},23:function(t,e,r){},24:function(t,e,r){},28:function(t,e,r){},29:function(t,e,r){"use strict";r.r(e);var n=r(0),i=r.n(n),o=r(15),s=r.n(o),a=(r(21),r(3)),l=r(4),c=r(6),u=r(5),p=r(12),h=r(2),f=r(1),d=(r(22),function(t){Object(c.a)(r,t);var e=Object(u.a)(r);function r(){return Object(a.a)(this,r),e.apply(this,arguments)}return Object(l.a)(r,[{key:"onAlertClick",value:function(t){t.stopPropagation(),t.preventDefault()}},{key:"render",value:function(){if(!this.props.visible)return i.a.createElement("div",null);var t=this.props,e=t.title,r=t.text,n=t.icon,o=t.options,s=t.className;return i.a.createElement("div",{className:"alert-container"},i.a.createElement("div",{className:"alert "+s,onClick:this.onAlertClick},i.a.createElement("div",{className:"alert-title"},n&&i.a.createElement("i",{className:"alert-icon icon ".concat(n)}),i.a.createElement("span",null,e)),i.a.createElement("div",{className:"alert-text"},r),this.props.children&&this.props.children,o&&i.a.createElement("div",{className:"alert-options"},o.map((function(t,e){return i.a.createElement("div",{key:e,onClick:t.onClick,style:t.style},t.text)})))))}}]),r}(i.a.Component)),v=(r(23),function(t){Object(c.a)(r,t);var e=Object(u.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).renameInput=void 0,n.onBlur=function(t){n.props.onRename&&n.props.onRename(t.target.value),n.setState({renaming:!1})},n.onDoubleClick=function(t){n.setState({renaming:!0})},n.handleInputRef=function(t){n.renameInput=t},n.state={renaming:!0},n}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.renameInput&&this.renameInput.focus()}},{key:"componentDidUpdate",value:function(t,e){this.state.renaming&&!e.renaming&&this.renameInput.focus()}},{key:"render",value:function(){var t=this.props,e=t.info,r=t.selected,n=t.onClick,o=(t.onDelete,e.name,e.jres);return i.a.createElement("div",{className:"asset ".concat(r?"selected":""),onClick:n},i.a.createElement("div",{className:"asset-img"},i.a.createElement("img",{src:o.previewURI,alt:"Preview of asset"})))}}]),r}(i.a.Component));function g(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/octet-stream",n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return b(btoa(A(t)),e,r,n,i)}function m(t,e){y(w(btoa(t),"text/plain"),e)}function y(t,e){if(navigator&&/Edge/i.test(navigator.userAgent)||navigator&&/Trident/i.test(navigator.userAgent)){var r=k(atob(t.split(",")[1])),n=new Blob([r],{type:"img/png"});window.navigator.msSaveOrOpenBlob(n,e)}else{var i=window.document.createElement("a");"string"==typeof i.download?(i.href=t,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)):document.location.href=t}}function b(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/octet-stream",n=arguments.length>4?arguments[4]:void 0,i=window.navigator.msSaveOrOpenBlob,o=w(t,e);try{if(i){var s=new Blob([k(atob(t))],{type:r});window.navigator.msSaveOrOpenBlob(s,e)}else y(o,e)}catch(a){n&&n(a)}return o}function w(t,e){return"data:"+e+";base64,"+t}function k(t){for(var e=t.length,r=new Uint8Array(e),n=0;n<e;++n)r[n]=255&t.charCodeAt(n);return r}function A(t){for(var e=t.length,r="",n=0;n<e;++n)r+=String.fromCharCode(t[n]);return r}var x=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],E=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],L=["abstract","any","as","break","case","catch","class","continue","const","constructor","debugger","declare","default","delete","do","else","enum","export","extends","false","finally","for","from","function","get","if","implements","import","in","instanceof","interface","is","let","module","namespace","new","null","package","private","protected","public","require","global","return","set","static","super","switch","symbol","this","throw","true","try","type","typeof","var","void","while","with","yield","async","await","of","Math"];function S(t){if(!t)return"_";var e,r=t.trim().replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_$]/g,(function(t){return O(t.charCodeAt(0),E)?t:""}));return 0!==r.length&&-1===L.indexOf(r)&&(e=r.charAt(0),/[a-zA-Z_$]/.test(e)||O(e.charCodeAt(0),x))||(r="_"+r),r}function O(t,e){if(t<e[0])return!1;for(var r,n=0,i=e.length;n+1<i;){if(r=n+(i-n)/2,e[r-=r%2]<=t&&t<=e[r+1])return!0;t<e[r]?i=r:n=r+2}return!1}function j(t,e,r,n,i){return _(D(t),e,t,r,n,i)}function N(t,e,r){return _(function(t,e){!(t=(t=(t=t.replace(/[ `]|(?:&#96;)|(?:&#9;)|(?:img)/g,"").trim()).replace(/^["`\(\)]*/,"").replace(/["`\(\)]*$/,"")).replace(/&#10;/g,"\n"))&&e&&(t=e);for(var r=t.split("\n"),n=[],i=0,o=0;o<r.length;o++){for(var s=r[o],a=[],l=0;l<s.length;l++)switch(s[l]){case"0":case".":a.push(0);break;case"1":case"#":a.push(1);break;case"2":case"T":a.push(2);break;case"3":case"t":a.push(3);break;case"4":case"N":a.push(4);break;case"5":case"n":a.push(5);break;case"6":case"G":a.push(6);break;case"7":case"g":a.push(7);break;case"8":a.push(8);break;case"9":a.push(9);break;case"a":case"A":case"R":a.push(10);break;case"b":case"B":case"P":a.push(11);break;case"c":case"C":case"p":a.push(12);break;case"d":case"D":case"O":a.push(13);break;case"e":case"E":case"Y":a.push(14);break;case"f":case"F":case"W":a.push(15)}a.length&&(n.push(a),i=Math.max(i,a.length))}for(var c=n.length,u=new P(i,c),p=0;p<c;p++)for(var h=n[p],f=0;f<i;f++)f<h.length?u.set(f,p,h[f]):u.set(f,p,0);return u}(t),e,void 0,void 0,void 0,r)}function _(t,e,r,n,i,o){return{width:t.width,height:t.height,data:r||W(t),previewURI:F(t,e),qualifiedName:n,tilemapTile:i,sourceFile:o}}function T(t){return function(t,e){var r="";switch(e){case"python":r='img("""';break;default:r="img`"}if(t)for(var n=0;n<t.height;n++){r+="\n";for(var i=0;i<t.width;i++)r+=I[t.get(i,n)]+" "}switch(r+="\n",e){case"python":r+='""")';break;default:r+="`"}return r}(D(t.data),"typescript")}var I=[".","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function C(t,e,r,n){for(var i=p(224|r)+p(t)+p(e)+"00",o=4,s=0,a=0,l=function(t){s|=t<<a,a==8-r?(i+=p(s),o++,s=0,a=0):a+=r},c=0;c<t;++c){for(var u=0;u<e;++u)l(n(c,u));for(;0!=a;)l(0);if(r>1)for(;3&o;)l(0)}return i;function p(t){return("0"+t.toString(16)).slice(-2)}}function W(t){var e=C(t.width,t.height,4,(function(e,r){return t.get(e,r)}));return btoa(A(function(t){for(var e=new Uint8ClampedArray(t.length>>1),r=0;r<t.length;r+=2)e[r>>1]=parseInt(t.slice(r,r+2),16);return e}(e)))}var P=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;Object(a.a)(this,t),this.width=e,this.height=r,this.x0=n,this.y0=i,this.buf=void 0,this.buf=o||new Uint8ClampedArray(this.dataLength())}return Object(l.a)(t,[{key:"set",value:function(t,e,r){if(t<this.width&&e<this.height&&t>=0&&e>=0){var n=this.coordToIndex(t,e);this.setCore(n,r)}}},{key:"get",value:function(t,e){if(t<this.width&&e<this.height&&t>=0&&e>=0){var r=this.coordToIndex(t,e);return this.getCore(r)}return 0}},{key:"coordToIndex",value:function(t,e){return t+e*this.width}},{key:"getCore",value:function(t){var e=Math.floor(t/2);return t%2===0?15&this.buf[e]:(240&this.buf[e])>>4}},{key:"setCore",value:function(t,e){var r=Math.floor(t/2);this.buf[r]=t%2===0?240&this.buf[r]|15&e:15&this.buf[r]|(15&e)<<4}},{key:"dataLength",value:function(){return Math.ceil(this.width*this.height/2)}}]),t}();function D(t){var e=atob(t.slice(t.indexOf(",")+1)),r=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2);135===r&&(r=224|e.charCodeAt(1),n=e.charCodeAt(2)|e.charCodeAt(3)<<8,i=e.charCodeAt(4)|e.charCodeAt(5)<<8,e=e.slice(4));var o=new P(n,i),s=4;if(225===r)for(var a=1,l=e.charCodeAt(s++),c=0;c<n;++c)for(var u=0;u<i;++u)o.set(c,u,l&a?1:0),256==(a<<=1)&&(a=1,l=e.charCodeAt(s++));else for(var p=0;p<n;p++){for(var h=0;h<i;h+=2){var f=e.charCodeAt(s++);o.set(p,h,15&f),h!=i-1&&o.set(p,h+1,f>>4&15)}for(;3&s;)s++}return o}function F(t,e){var r=document.createElement("canvas");r.width=t.width,r.height=t.height;var n=r.getContext("2d");if(n)for(var i=0;i<t.width;i++)for(var o=0;o<t.height;o++){var s=t.get(i,o);s&&(n.fillStyle=e[s],n.fillRect(i,o,1,1))}return r.toDataURL()}var G=r(9),R=['"- - - - - - - - "',"Projectile","Food","Enemy","mySprite","Player","mySprite2","Sprite.x","effects.spray","false","animation.flyToCenter","ADD","min","max","round","ceil","floor","trunc","Sprite.x","Sprite.y","Sprite.vx","MINUS","MULTIPLY","DIVIDE","POWER","sqrt","sin","cos","tan","atan2","idiv","imul","TRUE","AND","OR","FALSE","TileDirection.Left","TileDirection.Bottom","TileDirection.Right","TileDirection.Top","TileDirection.Center","animation.AnimationTypes.All","animation.AnimationTypes.ImageAnimation","animation.AnimationTypes.MovementAnimation","list","Sprite.vy","Sprite.ax","Sprite.ay","Sprite.fx","Sprite.fy","Sprite.lifespan","Sprite.width","Sprite.height","Sprite.left","Sprite.right","Sprite.top","Sprite.bottom","Sprite.z","SpriteFlag.AutoDestroy","SpriteFlag.Ghost","SpriteFlag.StayInScreen","SpriteFlag.DestroyOnWall","SpriteFlag.BounceOnWall","SpriteFlag.ShowPhysics","SpriteFlag.Invisible","SpriteFlag.RelativeToCamera","SpriteFlag.GhostThroughSprites","SpriteFlag.GhostThroughTiles","SpriteFlag.GhostThroughWalls","controller.right","ControllerButtonEvent.Released","controller.A","ControllerButtonEvent.Pressed","controller.down","ControllerButtonEvent.Repeated","controller.B","controller.menu","controller.left","controller.anyButton","controller.up","sprite","sprites.castle.tileGrass2","location","controller.player2","ControllerEvent.Disconnected","info.player2","controller.player3","ControllerEvent.Connected","info.player3","info.player4","controller.player4","music.wawawawaa","music.baDing","music.jumpUp","music.jumpDown","music.sonar","music.spooky","music.beamUp","music.smallCrash","music.bigCrash","music.zapped","music.buzzer","music.powerUp","music.powerDown","music.magicWand","music.siren","music.pewPew","music.knock","music.footstep","music.thump","controller.player1","info.player1","EQ","GT","LT","GTE","LTE","NEQ","true","false","sprites.food.bigBurger","sprites.food.bigDrumstick","sprites.food.bigHam","sprites.food.bigPizza","sprites.food.bigTaco","sprites.food.bigCake","sprites.food.bigDonut","sprites.food.bigIceCream","sprites.food.plate","sprites.builtin.angelFish0","sprites.builtin.angelFish1","sprites.builtin.angelFish2","sprites.builtin.angelFish3","sprites.builtin.aquaticBackground","sprites.builtin.bed0","sprites.builtin.bed1","sprites.builtin.bed2","sprites.builtin.brick","sprites.builtin.cat0","sprites.builtin.cat1","sprites.builtin.cat2","sprites.builtin.clam0","sprites.builtin.clam1","sprites.builtin.clam2","sprites.builtin.clownFish0","sprites.builtin.clownFish1","sprites.builtin.clownFish2","sprites.builtin.clownFish3","sprites.builtin.coin0","sprites.builtin.coin1","sprites.builtin.coin2","sprites.builtin.coin3","sprites.builtin.coin4","sprites.builtin.coin5","sprites.builtin.computer0","sprites.builtin.computer1","sprites.builtin.console","sprites.builtin.coral0","sprites.builtin.coral1","sprites.builtin.coral2","sprites.builtin.coral3","sprites.builtin.coral4","sprites.builtin.coral5","sprites.builtin.couchFront0","sprites.builtin.couchFront1","sprites.builtin.couchSide0","sprites.builtin.couchSide1","sprites.builtin.couchSide2","sprites.builtin.crowd0","sprites.builtin.crowd1","sprites.builtin.crowd2","sprites.builtin.crowd3","sprites.builtin.crowd4","sprites.builtin.crowd5","sprites.builtin.crowd6","sprites.builtin.crowd7","sprites.builtin.crowd8","sprites.builtin.crowd9","sprites.builtin.dog0","sprites.builtin.dog1","sprites.builtin.dog2","sprites.builtin.field0","sprites.builtin.field1","sprites.builtin.fieldGoal","sprites.builtin.football1","sprites.builtin.football2","sprites.builtin.football3","sprites.builtin.football4","sprites.builtin.football6","sprites.builtin.football7","sprites.builtin.footballPlayer0","sprites.builtin.footballPlayer1","sprites.builtin.footballPlayer2","sprites.builtin.footballPlayer3","sprites.builtin.footballPlayer4","sprites.builtin.footballPlayer5","sprites.builtin.footballPlayer6","sprites.builtin.footballPlayer7","sprites.builtin.forestBackground","sprites.builtin.forestBat0","sprites.builtin.forestBat1","sprites.builtin.forestBat2","sprites.builtin.forestBat3","sprites.builtin.forestBat4","sprites.builtin.forestBat5","sprites.builtin.forestBat6","sprites.builtin.forestBat7","sprites.builtin.forestFlowers0","sprites.builtin.forestFlowers1","sprites.builtin.forestFlowers2","sprites.builtin.forestLargeMushroom0","sprites.builtin.forestLargeMushroom1","sprites.builtin.forestMonkey0","sprites.builtin.forestMonkey1","sprites.builtin.forestMonkey2","sprites.builtin.forestMonkey3","sprites.builtin.forestMonkey4","sprites.builtin.forestMonkey5","sprites.builtin.forestMonkey6","sprites.builtin.forestMonkey7","sprites.builtin.forestMonkey8","sprites.builtin.forestMonkey9","sprites.builtin.forestMonkey10","sprites.builtin.forestMushroomPatch","sprites.builtin.forestScenery0","sprites.builtin.forestScenery1","sprites.builtin.forestScenery2","sprites.builtin.forestScenery3","sprites.builtin.forestSnake0","sprites.builtin.forestSnake1","sprites.builtin.forestSnake2","sprites.builtin.forestSnake3","sprites.builtin.forestSnake4","sprites.builtin.forestSnake5","sprites.builtin.forestSnake6","sprites.builtin.forestSnake7","sprites.builtin.forestTiles0","sprites.builtin.forestTiles1","sprites.builtin.forestTiles2","sprites.builtin.forestTiles3","sprites.builtin.forestTiles4","sprites.builtin.forestTiles5","sprites.builtin.forestTiles6","sprites.builtin.forestTiles7","sprites.builtin.forestTiles8","sprites.builtin.forestTiles9","sprites.builtin.forestTiles10","sprites.builtin.forestTiles11","sprites.builtin.forestTiles12","sprites.builtin.forestTiles13","sprites.builtin.forestTiles14","sprites.builtin.forestTiles15","sprites.builtin.forestTiles16","sprites.builtin.forestTiles17","sprites.builtin.forestTiles18","sprites.builtin.forestTiles19","sprites.builtin.forestTiles20","sprites.builtin.forestTiles21","sprites.builtin.forestTiles22","sprites.builtin.forestTiles23","sprites.builtin.forestTiles24","sprites.builtin.forestTiles25","sprites.builtin.forestTiles26","sprites.builtin.forestTiles27","sprites.builtin.forestTiles28","sprites.builtin.forestTiles29","sprites.builtin.forestTree0","sprites.builtin.forestTree1","sprites.builtin.forestTree2","sprites.builtin.forestTree3","sprites.builtin.forestTreeGroup0","sprites.builtin.forestTreeGroup1","sprites.builtin.forestTreeGroup2","sprites.builtin.forestTreeGroup3","sprites.builtin.forestTreeGroup4","sprites.builtin.furnitureRug","sprites.builtin.furnitureTable1","sprites.builtin.furnitureTable2","sprites.builtin.hermitCrabAttack0","sprites.builtin.hermitCrabAttack1","sprites.builtin.hermitCrabAttack2","sprites.builtin.hermitCrabAttack3","sprites.builtin.hermitCrabAttack4","sprites.builtin.hermitCrabAttack5","sprites.builtin.hermitCrabAwaken0","sprites.builtin.hermitCrabAwaken1","sprites.builtin.hermitCrabAwaken2","sprites.builtin.hermitCrabAwaken3","sprites.builtin.hermitCrabAwaken4","sprites.builtin.hermitCrabAwaken5","sprites.builtin.hermitCrabWalk0","sprites.builtin.hermitCrabWalk1","sprites.builtin.hermitCrabWalk2","sprites.builtin.hermitCrabWalk3","sprites.builtin.largeOceanRock","sprites.builtin.largeShelf","sprites.builtin.mediumOceanRock","sprites.builtin.oceanDepths0","sprites.builtin.oceanDepths1","sprites.builtin.oceanDepths2","sprites.builtin.oceanDepths3","sprites.builtin.oceanDepths4","sprites.builtin.oceanDepths5","sprites.builtin.oceanDepths6","sprites.builtin.oceanDepths7","sprites.builtin.oceanDepths8","sprites.builtin.oceanDepths9","sprites.builtin.oceanDepths10","sprites.builtin.oceanDepths11","sprites.builtin.oceanSand0","sprites.builtin.oceanSand1","sprites.builtin.oceanSand2","sprites.builtin.oceanSand3","sprites.builtin.oceanSand4","sprites.builtin.oceanSand5","sprites.builtin.oceanSand6","sprites.builtin.oceanSand7","sprites.builtin.oceanSand8","sprites.builtin.oceanSand9","sprites.builtin.oceanSand10","sprites.builtin.oceanSand11","sprites.builtin.oceanSand12","sprites.builtin.oceanSand13","sprites.builtin.oceanSand14","sprites.builtin.oceanSand15","sprites.builtin.seaweed0","sprites.builtin.seaweed1","sprites.builtin.seaweed2","sprites.builtin.shark0","sprites.builtin.shark1","sprites.builtin.shark2","sprites.builtin.shark3","sprites.builtin.sharkAttack0","sprites.builtin.sharkAttack1","sprites.builtin.sharkAttack2","sprites.builtin.sharkAttack3","sprites.builtin.sharkAttack4","sprites.builtin.sharkAttack5","sprites.builtin.smallOceanRock","sprites.builtin.smallShelf0","sprites.builtin.smallShelf1","sprites.builtin.smallShelf2","sprites.builtin.tv","sprites.builtin.villager1WalkFront1","sprites.builtin.villager1WalkFront2","sprites.builtin.villager1WalkFront3","sprites.builtin.villager1WalkBack1","sprites.builtin.villager1WalkBack2","sprites.builtin.villager1WalkBack3","sprites.builtin.villager1WalkLeft1","sprites.builtin.villager1WalkLeft2","sprites.builtin.villager1WalkLeft3","sprites.builtin.villager1WalkRight1","sprites.builtin.villager1WalkRight2","sprites.builtin.villager1WalkRight3","sprites.builtin.villager2WalkFront1","sprites.builtin.villager2WalkFront2","sprites.builtin.villager2WalkFront3","sprites.builtin.villager2WalkBack1","sprites.builtin.villager2WalkBack2","sprites.builtin.villager2WalkBack3","sprites.builtin.villager2WalkLeft1","sprites.builtin.villager2WalkLeft2","sprites.builtin.villager2WalkLeft3","sprites.builtin.villager2WalkRight1","sprites.builtin.villager2WalkRight2","sprites.builtin.villager2WalkRight3","sprites.builtin.villager3WalkFront1","sprites.builtin.villager3WalkFront2","sprites.builtin.villager3WalkFront3","sprites.builtin.villager3WalkBack1","sprites.builtin.villager3WalkBack2","sprites.builtin.villager3WalkBack3","sprites.builtin.villager3WalkLeft1","sprites.builtin.villager3WalkLeft2","sprites.builtin.villager3WalkLeft3","sprites.builtin.villager3WalkRight1","sprites.builtin.villager3WalkRight2","sprites.builtin.villager3WalkRight3","sprites.builtin.villager4WalkFront1","sprites.builtin.villager4WalkFront2","sprites.builtin.villager4WalkFront3","sprites.builtin.villager4WalkBack1","sprites.builtin.villager4WalkBack2","sprites.builtin.villager4WalkBack3","sprites.builtin.villager4WalkLeft1","sprites.builtin.villager4WalkLeft2","sprites.builtin.villager4WalkRight1","sprites.builtin.villager4WalkRight2","sprites.castle.heroFrontAttack1","sprites.castle.heroFrontAttack2","sprites.castle.heroFrontAttack3","sprites.castle.heroFrontAttack4","sprites.castle.heroSideAttackLeft1","sprites.castle.heroSideAttackLeft2","sprites.castle.heroSideAttackLeft3","sprites.castle.heroSideAttackLeft4","sprites.castle.heroSideAttackRight4","sprites.castle.heroSideAttackRight3","sprites.castle.heroSideAttackRight2","sprites.castle.heroSideAttackRight1","sprites.castle.heroWalkFront1","sprites.castle.heroWalkFront2","sprites.castle.heroWalkFront3","sprites.castle.heroWalkFront4","sprites.castle.heroWalkBack1","sprites.castle.heroWalkBack2","sprites.castle.heroWalkBack3","sprites.castle.heroWalkBack4","sprites.castle.heroWalkShieldFront1","sprites.castle.heroWalkShieldFront2","sprites.castle.heroWalkShieldFront3","sprites.castle.heroWalkShieldFront4","sprites.castle.heroWalkShieldBack1","sprites.castle.heroWalkShieldBack2","sprites.castle.heroWalkShieldBack3","sprites.castle.heroWalkShieldBack4","sprites.castle.heroWalkShieldSideLeft1","sprites.castle.heroWalkShieldSideLeft2","sprites.castle.heroWalkShieldSideLeft3","sprites.castle.heroWalkShieldSideLeft4","sprites.castle.heroWalkShieldSideRight4","sprites.castle.heroWalkShieldSideRight3","sprites.castle.heroWalkShieldSideRight2","sprites.castle.heroWalkShieldSideRight1","sprites.castle.heroWalkSideLeft1","sprites.castle.heroWalkSideLeft2","sprites.castle.heroWalkSideLeft3","sprites.castle.heroWalkSideLeft4","sprites.castle.heroWalkSideRight4","sprites.castle.heroWalkSideRight3","sprites.castle.heroWalkSideRight2","sprites.castle.heroWalkSideRight1","sprites.castle.houseRed","sprites.castle.houseBlue","sprites.castle.princessFront0","sprites.castle.princessFront1","sprites.castle.princessFront2","sprites.castle.princessLeft0","sprites.castle.princessLeft1","sprites.castle.princessLeft2","sprites.castle.princessBack0","sprites.castle.princessBack1","sprites.castle.princessBack2","sprites.castle.princess2Front","sprites.castle.princess2WalkFront1","sprites.castle.princess2WalkFront2","sprites.castle.princess2WalkFront3","sprites.castle.princess2Back","sprites.castle.princess2WalkBack1","sprites.castle.princess2WalkBack2","sprites.castle.princess2WalkBack3","sprites.castle.princess2Left1","sprites.castle.princess2Left2","sprites.castle.princess2Right1","sprites.castle.princess2Right2","sprites.castle.rock0","sprites.castle.rock1","sprites.castle.rock2","sprites.castle.saplingOak","sprites.castle.saplingPine","sprites.castle.shrub","sprites.castle.skellyFront","sprites.castle.skellyWalkFront1","sprites.castle.skellyWalkFront2","sprites.castle.skellyWalkFront3","sprites.castle.skellyAttackFront1","sprites.castle.skellyAttackFront2","sprites.castle.skellyAttackFront3","sprites.castle.skellyAttackFront4","sprites.castle.skellyWalkLeft1","sprites.castle.skellyAttackLeft1","sprites.castle.skellyAttackLeft2","sprites.castle.skellyWalkLeft2","sprites.castle.skellyWalkRight1","sprites.castle.skellyAttackRight1","sprites.castle.skellyAttackRight2","sprites.castle.skellyWalkRight2","sprites.castle.tileGrass2","sprites.castle.tilePath1","sprites.castle.tilePath2","sprites.castle.tilePath3","sprites.castle.tileGrass1","sprites.castle.tilePath4","sprites.castle.tilePath5","sprites.castle.tilePath6","sprites.castle.tileGrass3","sprites.castle.tilePath7","sprites.castle.tilePath8","sprites.castle.tilePath9","sprites.castle.tileDarkGrass1","sprites.castle.tileDarkGrass2","sprites.castle.tileDarkGrass3","sprites.castle.treePine","sprites.castle.treeOak","sprites.castle.treeSmallPine","sprites.dialog.hugeLeaf","sprites.dialog.largeShell","sprites.dialog.largeStar","sprites.dialog.mediumStar","sprites.dialog.mediumShell","sprites.dialog.mediumLeaf0","sprites.dialog.mediumLeaf1","sprites.dialog.smallIndustrial0","sprites.dialog.smallIndustrial1","sprites.dialog.smallBlue0","sprites.dialog.smallBlue1","sprites.dialog.smallDefault","sprites.dialog.smallSwirlyWhite","sprites.dialog.smallSwirlyPurple","sprites.dialog.smallDialogLeftThin","sprites.dialog.smallDialogLeftThick","sprites.dialog.smallDialogCenterThin","sprites.dialog.smallDialogcenterThick","sprites.duck.duck1","sprites.duck.duck2","sprites.duck.duck3","sprites.duck.duck4","sprites.duck.duck5","sprites.duck.duck6","sprites.duck.duckHurt","sprites.duck.log1","sprites.duck.log2","sprites.duck.log3","sprites.duck.log4","sprites.duck.log5","sprites.duck.log6","sprites.duck.log7","sprites.duck.log8","sprites.duck.tree","sprites.dungeon.buttonOrange","sprites.dungeon.buttonOrangeDepressed","sprites.dungeon.buttonTeal","sprites.dungeon.buttonTealDepressed","sprites.dungeon.buttonPink","sprites.dungeon.buttonPinkDepressed","sprites.dungeon.chestClosed","sprites.dungeon.chestOpen","sprites.dungeon.collectibleInsignia","sprites.dungeon.collectibleRedCrystal","sprites.dungeon.collectibleBlueCrystal","sprites.dungeon.darkGroundNorthWest0","sprites.dungeon.darkGroundNorth","sprites.dungeon.darkGroundNorthEast0","sprites.dungeon.darkGroundNorthWest1","sprites.dungeon.darkGroundWest","sprites.dungeon.darkGroundCenter","sprites.dungeon.darkGroundEast","sprites.dungeon.darkGroundNorthEast1","sprites.dungeon.darkGroundSouthWest0","sprites.dungeon.darkGroundSouth","sprites.dungeon.darkGroundSouthEast0","sprites.dungeon.darkGroundSouthEast1","sprites.dungeon.darkGroundSouthWest1","sprites.dungeon.doorClosedWest","sprites.dungeon.doorClosedSouth","sprites.dungeon.doorClosedNorth","sprites.dungeon.doorClosedEast","sprites.dungeon.doorOpenWest","sprites.dungeon.doorOpenSouth","sprites.dungeon.doorOpenNorth","sprites.dungeon.doorOpenEast","sprites.dungeon.doorLockedWest","sprites.dungeon.doorLockedSouth","sprites.dungeon.doorLockedNorth","sprites.dungeon.doorLockedEast","sprites.dungeon.floorLight0","sprites.dungeon.floorLight1","sprites.dungeon.floorLight2","sprites.dungeon.floorLightMoss","sprites.dungeon.floorLight3","sprites.dungeon.floorLight4","sprites.dungeon.floorLight5","sprites.dungeon.floorMixed","sprites.dungeon.floorDark0","sprites.dungeon.floorDark1","sprites.dungeon.floorDark2","sprites.dungeon.floorDarkDiamond","sprites.dungeon.floorDark3","sprites.dungeon.floorDark4","sprites.dungeon.floorDark5","sprites.dungeon.greenOuterNorthWest","sprites.dungeon.greenOuterNorth0","sprites.dungeon.greenOuterNorth1","sprites.dungeon.greenOuterNorthEast","sprites.dungeon.greenOuterWest0","sprites.dungeon.greenInnerNorthWest","sprites.dungeon.greenInnerNorthEast","sprites.dungeon.greenOuterEast0","sprites.dungeon.greenOuterWest1","sprites.dungeon.greenInnerSouthWest","sprites.dungeon.greenInnerSouthEast","sprites.dungeon.greenOuterEast1","sprites.dungeon.greenOuterSouthEast","sprites.dungeon.greenOuterSouth0","sprites.dungeon.greenOuterSouth1","sprites.dungeon.greenOuterSouthWest","sprites.dungeon.greenOuterNorth2","sprites.dungeon.greenOuterEast2","sprites.dungeon.greenOuterSouth2","sprites.dungeon.greenOuterWest2","sprites.dungeon.greenSwitchUp","sprites.dungeon.greenSwitchDown","sprites.dungeon.hazardWater","sprites.dungeon.hazardLava0","sprites.dungeon.hazardLava1","sprites.dungeon.hazardHole","sprites.dungeon.hazardSpike","sprites.dungeon.purpleOuterNorthWest","sprites.dungeon.purpleOuterNorth0","sprites.dungeon.purpleOuterNorth1","sprites.dungeon.purpleOuterNorthEast","sprites.dungeon.purpleOuterWest0","sprites.dungeon.purpleInnerNorthWest","sprites.dungeon.purpleInnerNorthEast","sprites.dungeon.purpleOuterEast0","sprites.dungeon.purpleOuterWest1","sprites.dungeon.purpleInnerSouthWest","sprites.dungeon.purpleInnerSouthEast","sprites.dungeon.purpleOuterEast1","sprites.dungeon.purpleOuterSouthEast","sprites.dungeon.purpleOuterSouth0","sprites.dungeon.purpleOuterSouth1","sprites.dungeon.purpleOuterSouthWest","sprites.dungeon.purpleOuterNorth2","sprites.dungeon.purpleOuterEast2","sprites.dungeon.purpleOuterSouth2","sprites.dungeon.purpleOuterWest2","sprites.dungeon.purpleSwitchUp","sprites.dungeon.purpleSwitchDown","sprites.dungeon.stairWest","sprites.dungeon.stairSouth","sprites.dungeon.stairNorth","sprites.dungeon.stairEast","sprites.dungeon.stairLarge","sprites.dungeon.stairLadder","sprites.dungeon.statueLight","sprites.dungeon.statueDark","sprites.food.smallBurger","sprites.food.smallApple","sprites.food.smallLemon","sprites.food.smallDrumstick","sprites.food.smallHam","sprites.food.smallPizza","sprites.food.smallDonut","sprites.food.smallCake","sprites.food.smallIceCream","sprites.food.smallStrawberry","sprites.food.smallCherries","sprites.food.smallTaco","sprites.space.spaceSmallAsteroid0","sprites.space.spaceSmallAsteroid1","sprites.space.spaceSmallAsteroid2","sprites.space.spaceSmallAsteroid3","sprites.space.spaceAsteroid0","sprites.space.spaceAsteroid1","sprites.space.spaceSmallAsteroid4","sprites.space.spaceSmallAsteroid5","sprites.space.spaceRedShip","sprites.space.spaceAsteroid2","sprites.space.spaceAsteroid3","sprites.space.spaceAsteroid4","sprites.space.spaceOrangeShip","sprites.space.spacePinkShip","sprites.space.spaceBlueShip","sprites.space.spaceGreenShip","sprites.vehicle.carRedLeft","sprites.vehicle.carRedRight","sprites.vehicle.carRedBack","sprites.vehicle.carRedFront","sprites.vehicle.carBlueLeft","sprites.vehicle.carBlueRight","sprites.vehicle.carBlueBack","sprites.vehicle.carBlueFront","sprites.vehicle.carPinkLeft","sprites.vehicle.carPinkRight","sprites.vehicle.carPinkBack","sprites.vehicle.carPinkFront","sprites.vehicle.roadTurn1","sprites.vehicle.roadTurn2","sprites.vehicle.roadIntersection1","sprites.vehicle.roadIntersection2","sprites.vehicle.roadTurn3","sprites.vehicle.roadTurn4","sprites.vehicle.roadIntersection3","sprites.vehicle.roadIntersection4","sprites.vehicle.roadVertical","sprites.vehicle.roadHorizontal","tiles.util.arrow0","tiles.util.arrow1","tiles.util.arrow2","tiles.util.arrow3","tiles.util.arrow4","tiles.util.arrow5","tiles.util.arrow6","tiles.util.arrow7","tiles.util.arrow8","tiles.util.arrow9","tiles.util.arrow10","tiles.util.arrow11","tiles.util.arrow12","tiles.util.arrow13","tiles.util.arrow14","tiles.util.arrow15","tiles.util.door0","tiles.util.door1","tiles.util.door2","tiles.util.door3","tiles.util.door4","tiles.util.door5","tiles.util.door6","tiles.util.door7","tiles.util.door8","tiles.util.door9","tiles.util.door10","tiles.util.door11","tiles.util.door12","tiles.util.door13","tiles.util.door14","tiles.util.door15","tiles.util.object0","tiles.util.object1","tiles.util.object2","tiles.util.object3","tiles.util.object4","tiles.util.object5","tiles.util.object6","tiles.util.object7","tiles.util.object8","tiles.util.object9","tiles.util.object10","tiles.util.object11","tiles.util.object12","tiles.util.object13","tiles.util.object14","tiles.util.object15","effects.clouds","effects.starField","effects.bubbles","effects.blizzard","effects.disintegrate","effects.ashes","effects.halo","effects.coolRadial","effects.warmRadial","effects.fire","effects.rings","effects.smiles","effects.hearts","effects.confetti","effects.fountain","effects.trail","effects.spray"];function B(){B=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(S){a=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof p?e:p,o=Object.create(i.prototype),s=new x(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return L()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=w(s,r);if(a){if(a===u)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,s),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(S){return{type:"throw",arg:S}}}t.wrap=l;var u={};function p(){}function h(){}function f(){}var d={};a(d,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(E([])));g&&g!==e&&r.call(g,i)&&(d=g);var m=f.prototype=p.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,o){function s(){return new e((function(n,s){!function n(i,o,s,a){var l=c(t[i],t,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(p).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(l.arg)}(i,o,n,s)}))}return n=n?n.then(s,s):s()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,a(m,"constructor",f),a(f,"constructor",h),h.displayName=a(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(b.prototype),a(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var s=new b(l(e,r,n,i),o);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(m),a(m,s,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var M="https://makecode.com/api",U=["#000000","#ffffff","#ff2121","#ff93c4","#ff8135","#fff609","#249ca3","#78dc52","#003fad","#87f2ff","#8e2ec4","#a4839f","#5c406c","#e5cdc4","#91463d","#000000"];function J(t){return Y.apply(this,arguments)}function Y(){return(Y=Object(f.a)(B().mark((function t(e){var r,n,i,o,s,a,l,c;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return-1!==(r=e.trim()).indexOf("/")&&(r=r.substr(r.lastIndexOf("/")+1)),t.next=4,K(M+"/"+r);case 4:return n=t.sent,t.next=7,K(M+"/"+r+"/text");case 7:if(i=t.sent,o=i["pxt.json"],s=U,a=!1,o)try{(null===(l=JSON.parse(o))||void 0===l?void 0:l.palette)&&Array.isArray(l.palette)&&(s=l.palette.slice(),a=!0)}catch(u){}return c=q(i),t.abrupt("return",{meta:n,files:i,projectImages:c,text:V(i),customPalette:a?s:void 0});case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(t){return H.apply(this,arguments)}function H(){return(H=Object(f.a)(B().mark((function t(e){var r,n,i,o,s;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e["pxt.json"],n=U,i=!1,r)try{(null===(o=JSON.parse(r))||void 0===o?void 0:o.palette)&&Array.isArray(o.palette)&&(n=o.palette.slice(),i=!0)}catch(a){}return s=q(e),t.abrupt("return",{files:e,projectImages:s,text:V(e),customPalette:i?n:void 0});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(t){var e=t["main.blocks"],r=[],n=[],i=[],o=/\s*img\s*`[\s\da-fA-F.#tngrpoywTNGRPOYW]*`\s*/m,s=/^[+.\s\d-]*$/;if(R.forEach((function(t){t.startsWith("Sprite.")&&R.push(t+"@set")})),e){for(var a=(new DOMParser).parseFromString(e,"text/xml"),l=a.getElementsByTagName("field"),c=0;c<l.length;c++){var u;console.log(l.item(c).getAttribute("name"));var p=null===(u=l.item(c).textContent)||void 0===u?void 0:u.trim();if(p&&!s.test(p)&&!o.test(p)&&-1===R.indexOf(p))if("VAR"===l.item(c).getAttribute("name"))n.push(p);else{var h=/^(?:assets\s*.)?\s*(?:(?:tilemap)|(?:image)|(?:tile)|(?:animation))\s*`([^`]+)`\s*$/.exec(p);if(h){if(/(?:myImage|tile|level|myAnim)\d+/.test(h[1]))continue;i.push(h[1])}else r.push(p)}}for(var f=a.getElementsByTagName("comment"),d=0;d<f.length;d++){var v=f.item(d).textContent;!v||/^[0-9\s]*$/.test(v)||o.test(v)||s.test(v)||-1!==R.indexOf(v)||r.push(v.trim())}}for(var g=0,m=Object.keys(t);g<m.length;g++){var y=m[g];y.endsWith(".ts")&&!y.endsWith(".gen.ts")&&r.push.apply(r,Object(G.a)(Z(t[y])))}var b={},w=function(t){var e=[];return t.forEach((function(t){b[t]||(b[t]=!0,e.push(t))})),e};return{assetNames:w(i),variableNames:w(n),other:w(r)}}function q(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U,n=Object.keys(t).filter((function(t){return t.endsWith(".ts")||t.endsWith(".jres")})),i=[],o=Object(h.a)(n);try{for(o.s();!(e=o.n()).done;){var s=e.value,a=t[s];s.endsWith("jres")?i.push.apply(i,Object(G.a)(Q(a,s,r))):i.push.apply(i,Object(G.a)($(a,s,r)))}}catch(d){o.e(d)}finally{o.f()}for(var l={},c=0,u=i;c<u.length;c++){var p=u[c],f=l[p.data];(!f||!f.qualifiedName&&p.qualifiedName)&&(l[p.data]=p)}return Object.keys(l).map((function(t){return l[t]}))}function Q(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;try{r=JSON.parse(t)}catch(h){return[]}for(var i=r["*"],o=(null===i||void 0===i?void 0:i.mimeType)||"",s=(null===i||void 0===i?void 0:i.namespace)||"",a=[],l=0,c=Object.keys(r);l<c.length;l++){var u=c[l];if("*"!==u){var p=r[u];"string"===typeof p?"image/x-mkcd-f4"===o&&a.push(j(p,n,s?s+"."+u:u,!1,e)):"image/x-mkcd-f4"===p.mimeType&&a.push(j(p.data,n,s?s+"."+u:u,p.tilemapTile,e))}}return a}function $(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U,n=/img\s*`[\s\da-f.#tngrpoyw]*`/gim,i=[];return t.replace(n,(function(t){return i.push(N(t,r,e)),""})),i}function K(t){return new Promise((function(e,r){var n=new XMLHttpRequest;n.addEventListener("error",(function(t){r(t)})),n.addEventListener("load",(function(){try{e(JSON.parse(n.responseText))}catch(t){r(t)}})),n.open("GET",t),n.send()}))}function Z(t){for(var e=[],r=!1,n=!1,i=!1,o=0,s=void 0,a=-1,l=!1,c=0;c<t.length;c++){var u=t.charAt(c);r?"*"===u&&"/"===t.charAt(c+1)&&c>a&&(r=!1,e.push(t.substring(a,c).trim())):n?/\n/.test(u)&&(n=!1,e.push(t.substring(a,c).trim())):s?u===s&&(s=void 0,e.push(t.substring(a,c).trim())):i?o?"}"===u?0===--o&&(e.push.apply(e,Object(G.a)(Z(t.substring(a,c)))),a=c+1):"{"===u&&o++:"$"===u&&"{"===t.charAt(c+1)?(o=1,e.push(t.substring(a,c).trim()),a=c+1,c++):"`"===u&&(i=!1,e.push(t.substring(a,c).trim())):l?"`"===u&&(l=!1):"/"===u&&"*"===t.charAt(c+1)?(r=!0,a=c+2):"/"===u&&"/"===t.charAt(c+1)?(n=!0,a=c+2):"'"===u||'"'===u?(s=u,a=c+1):"`"===u?(i=!0,a=c+1):("i"===u&&"m"===t.charAt(c+1)&&"g"===t.charAt(c+2)&&"`"===t.charAt(c+3)||"h"===u&&"e"===t.charAt(c+1)&&"x"===t.charAt(c+2)&&"`"===t.charAt(c+3))&&(l=!0,c+=3)}return e.filter((function(t){return!!t}))}function X(){X=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(S){a=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof p?e:p,o=Object.create(i.prototype),s=new x(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return L()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=w(s,r);if(a){if(a===u)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,s),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(S){return{type:"throw",arg:S}}}t.wrap=l;var u={};function p(){}function h(){}function f(){}var d={};a(d,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(E([])));g&&g!==e&&r.call(g,i)&&(d=g);var m=f.prototype=p.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,o){function s(){return new e((function(n,s){!function n(i,o,s,a){var l=c(t[i],t,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(p).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(l.arg)}(i,o,n,s)}))}return n=n?n.then(s,s):s()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,a(m,"constructor",f),a(f,"constructor",h),h.displayName=a(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(b.prototype),a(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var s=new b(l(e,r,n,i),o);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(m),a(m,s,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function tt(t,e,r){t.addEventListener("paste",(function(t){if(t.clipboardData){for(var n=[],i=0;i<t.clipboardData.files.length;i++)t.clipboardData.files.item(i)&&n.push(t.clipboardData.files.item(i));if((n=n.filter(e)).length>0)t.stopPropagation(),t.preventDefault(),r(n);else if(t.clipboardData.items&&t.clipboardData.items.length>0){var o=t.clipboardData.items[0].getAsFile();o&&(t.stopPropagation(),t.preventDefault(),r([o]))}}})),t.addEventListener("dragover",(function(t){if(t.dataTransfer){for(var e=t.dataTransfer.types,r=!1,n=0;n<e.length;++n)"Files"===e[n]&&(r=!0);if(r)return t.preventDefault&&t.preventDefault(),t.dataTransfer.dropEffect="copy",!1}return!0}),!1),t.addEventListener("drop",(function(t){if(t.dataTransfer){for(var e=[],n=0;n<t.dataTransfer.files.length;n++)t.dataTransfer.files.item(n)&&e.push(t.dataTransfer.files.item(n));e.length>0&&(t.stopPropagation(),t.preventDefault(),r(e))}return!1}),!1),t.addEventListener("dragend",(function(t){return!1}),!1)}function et(t){return t?new Promise((function(e,r){var n=new FileReader;n.onerror=function(t){return e(null)},n.onload=function(t){return e(new Uint8Array(n.result))},n.readAsArrayBuffer(t)})):Promise.resolve(null)}function rt(t){return nt.apply(this,arguments)}function nt(){return(nt=Object(f.a)(X().mark((function t(e){var r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et(e);case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.abrupt("return",it("data:image/png;base64,"+btoa(A(r))));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function it(t){return ot.apply(this,arguments)}function ot(){return(ot=Object(f.a)(X().mark((function t(e){var r,n,i,o,s,a,l,c,u,p,h,f,d,v;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(t,e,r){for(var n=0,i=0,s=0,a=(1<<e)-1;i<r.length;)s|=(o[t++]&a)<<n,3==(3&t)&&t++,(n+=e)>=8&&(r[i++]=255&s,s>>=8,n-=8);return t},t.next=3,st(e);case 3:if(r=t.sent,n=r.getContext("2d"),i=n.getImageData(0,0,r.width,r.height),o=i.data,!((s=1&o[0]|(1&o[1])<<1|(1&o[2])<<2)>5||0===s)){t.next=10;break}return t.abrupt("return",Promise.reject(new Error("Invalid encoded PNG format")));case 10:if(l=new Uint8Array(ut),c=a(4,s,l),(u=lt(l))[0]===ct){t.next=15;break}return t.abrupt("return",Promise.reject(new Error("Invalid magic in encoded PNG")));case 15:return p=new Uint8Array(u[1]),(h=u[2])>0?(f=(r.height-h)*r.width,d=new Uint8Array((3*(f-1)*s>>3)-ut),a(c,s,d),p.set(d),v=new Uint8Array(p.length-d.length),a(4*f,8,v),p.set(v,d.length)):a(c,s,p),t.abrupt("return",p);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function st(t){return function(t){var e=document.createElement("img");return new Promise((function(r,n){e.onload=function(){return r(e)},e.onerror=function(){return r(void 0)},e.crossOrigin="anonymous",e.src=t}))}(t).then((function(t){var e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e}))}function at(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function lt(t){for(var e=[],r=0;r<t.length;r+=4)e.push(at(t,r));return e}var ct=1496611453,ut=36,pt=(r(24),r(10));function ht(t){var e=pt.LZMA;return new Promise((function(r,n){try{e.compress(t,7,(function(t,e){e?n(e):r(new Uint8Array(t))}))}catch(i){n(i)}}))}function ft(t){var e=pt.LZMA;return new Promise((function(r,n){try{e.decompress(t,(function(t,e){e?n(e):r(t)}))}catch(i){n(i)}}))}function dt(){dt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(S){a=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof p?e:p,o=Object.create(i.prototype),s=new x(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return L()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=w(s,r);if(a){if(a===u)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,s),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(S){return{type:"throw",arg:S}}}t.wrap=l;var u={};function p(){}function h(){}function f(){}var d={};a(d,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(E([])));g&&g!==e&&r.call(g,i)&&(d=g);var m=f.prototype=p.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,o){function s(){return new e((function(n,s){!function n(i,o,s,a){var l=c(t[i],t,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(p).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(l.arg)}(i,o,n,s)}))}return n=n?n.then(s,s):s()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,a(m,"constructor",f),a(f,"constructor",h),h.displayName=a(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(b.prototype),a(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var s=new b(l(e,r,n,i),o);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(m),a(m,s,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var vt='\nconst padding = 10;\nconst speed = 50;\ngame.onUpdate(function() {\n    for (const sprite of sprites.allOfKind(SpriteKind.Player)) {\n        if (sprite.vx > 0 && sprite.x >= screen.width - padding) {\n            sprite.x = screen.width - padding;\n            sprite.vx = 0;\n            sprite.vy = speed;\n        }\n        else if (sprite.vy > 0 && sprite.y >= screen.height - padding) {\n            sprite.y = screen.height - padding;\n            sprite.vx = -speed;\n            sprite.vy = 0;\n        }\n        else if (sprite.vx < 0 && sprite.x <= padding) {\n            sprite.x = padding;\n            sprite.vx = 0;\n            sprite.vy = -speed;\n        }\n        else if (sprite.vy < 0 && sprite.bottom <= 0) {\n            sprite.destroy();\n        }\n    }\n})\n\nlet index = 0;\ngame.onUpdateInterval(700, function() {\n    const asset = sprites.create(allImages[index], SpriteKind.Player);\n    asset.x = padding;\n    asset.y = padding;\n    asset.vx = speed;\n    asset.setFlag(SpriteFlag.Ghost, true)\n    index = (index + 1) % allImages.length;\n})\n\nlet line1 = sprites.create(img`0`, SpriteKind.Food)\nline1.say("PRESS A TO  ")\n\nlet line2 = sprites.create(img`0`, SpriteKind.Food)\nline2.say("CHANGE COLOR")\nline2.top += 10\n\nlet bgColor = 0;\ncontroller.player1.onButtonEvent(ControllerButton.A, ControllerButtonEvent.Pressed, function() {\n    scene.setBackgroundColor(bgColor);\n    bgColor = (bgColor + 1) % 15\n})';function gt(t,e,r,n){var i=JSON.stringify({name:t,dependencies:{device:"*"},description:"An asset pack for MakeCode Arcade",files:["main.blocks","main.ts","assets.jres","assets.ts"],testFiles:["test.ts"]},null,4),o={};o["pxt.json"]=i,o["main.ts"]='/*\n * This project was created using arcade-sprite-pack. If you\n * want to publish this project to GitHub as a sprite pack, do\n * not add any code to this file! The code that is running in the\n * simulator can be edited by clicking on the file explorer to the\n * left and selecting "test.ts". Any code added to "test.ts" will\n * not be added to a project that imports this sprite pack as an\n * extension.\n *\n * If you don\'t wish to publish this project, you can use this project\n * as-is. Your sprites should show up in the sprite gallery. Make sure\n * you delete the code in "test.ts"!\n *\n *\n * To publish this project to GitHub:\n *   1. Rename this project to something descriptive\n *   2. Click the GitHub button in the bottom bar next to the save\n *      button (sign in to GitHub if prompted)\n *   3. Choose a name for your repository. This is the name that\n *      people will see when importing your project.\n *   4. Make sure "public repository" is selected in the dropdown\n *      if you want other people to be able to use your sprites\n *   5. Click "go ahead"\n *   6. If you are on a shared computer, make sure you sign out of\n *      GitHub!\n *\n *\n * To add a published project to an Arcade project:\n *   1. Inside the MakeCode editor, click "Extensions" under "Advanced"\n *      in the toolbox\n *   2. Inside the search box that appears, type your GitHub username\n *      followed by a "/" and the name of the repository. It should\n *      look something like this: username/repository\n *   3. Hit enter on your keyboard and click the card that appears\n *   4. The sprites should now show up in the gallery of the sprite\n *      editor (at the bottom)\n * */\n',o["test.ts"]=n,o["assets.ts"]=e,o["assets.jres"]=r,o["README.md"]="",o["main.blocks"]='<xml xmlns="http://www.w3.org/1999/xhtml"><variables></variables><block type="pxt-on-start" x="0" y="0"></block></xml>';var s={meta:{cloudId:"pxt/arcade",targetVersions:{},name:t,editor:"tsprj"},source:JSON.stringify(o)};return ht(JSON.stringify(s))}function mt(){return(mt=Object(f.a)(dt().mark((function t(e,r){var n,i,o,s,a,l,c,u,p,f,d,v;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v=function(t){var e=S(t);if(!o[e])return o[e]=!0,e;for(var r=2;o[e+r];)r++;return o[e+r]=!0,e+r},n="",i={},o={},s=S(e)+"Sprites",a=[],i["*"]={namespace:s,mimeType:"image/x-mkcd-f4"},l=Object(h.a)(r);try{for(l.s();!(c=l.n()).done;)u=c.value,p=v(u.name),u.jres.tilemapTile?(i[p]={id:p,data:u.jres.data,tilemapTile:!0,mimeType:"image/x-mkcd-f4"},n+="    //% fixedInstance jres blockIdentity=images._tile\n"):(i[p]=u.jres.data,n+="    //% fixedInstance jres blockIdentity=images._image\n"),n+="    export const ".concat(p," = image.ofBuffer(hex``);\n"),a.push(s+"."+p)}catch(m){l.e(m)}finally{l.f()}return n="namespace ".concat(s," {\n").concat(n,"\n}\n"),f="const allImages = [".concat(a.join(","),"]\n").concat(vt),t.next=13,gt(e,n,JSON.stringify(i),f);case 13:return d=t.sent,t.abrupt("return",g(d,e+".mkcd"));case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yt(){return(yt=Object(f.a)(dt().mark((function t(e,r){var n,i,o,s,a,l;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=function(t){var e=S(t);if(!i[e])return i[e]=!0,e;for(var r=2;i[e+r];)r++;return i[e+r]=!0,e+r},n="",i={},o=Object(h.a)(r);try{for(o.s();!(s=o.n()).done;)a=s.value,n+="const ".concat(l(a.name)," = ").concat(T(a.jres),";\n")}catch(c){o.e(c)}finally{o.f()}return t.abrupt("return",m(n,e+".ts"));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function bt(){bt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(S){a=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof p?e:p,o=Object.create(i.prototype),s=new x(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return L()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=w(s,r);if(a){if(a===u)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,s),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(S){return{type:"throw",arg:S}}}t.wrap=l;var u={};function p(){}function h(){}function f(){}var d={};a(d,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(E([])));g&&g!==e&&r.call(g,i)&&(d=g);var m=f.prototype=p.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,o){function s(){return new e((function(n,s){!function n(i,o,s,a){var l=c(t[i],t,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(p).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(l.arg)}(i,o,n,s)}))}return n=n?n.then(s,s):s()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,a(m,"constructor",f),a(f,"constructor",h),h.displayName=a(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(b.prototype),a(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var s=new b(l(e,r,n,i),o);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(m),a(m,s,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var wt,kt;function At(){return xt.apply(this,arguments)}function xt(){return(xt=Object(f.a)(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!wt){t.next=2;break}return t.abrupt("return",wt);case 2:return kt||(kt=new Promise((function(t,e){var r=indexedDB.open("APPROVED_DB",2);r.onerror=function(t){e()},r.onupgradeneeded=function(t){var e=r.result.createObjectStore("approved",{keyPath:"str"});e.createIndex("str","str",{unique:!0}),e.createIndex("approved","approved",{unique:!1}),e.createIndex("time","time",{unique:!1})},r.onsuccess=function(e){wt=r.result,t(wt)}}))),t.abrupt("return",kt);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Et(t){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(f.a)(bt().mark((function t(e){var r;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At();case 2:return r=t.sent,t.abrupt("return",new Promise((function(t,n){var i=r.transaction(["approved"],"readwrite").objectStore("approved").get(e);i.onerror=function(t){n()},i.onsuccess=function(e){t(i.result)}})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function St(t,e){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(f.a)(bt().mark((function t(e,r){var n;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At();case 2:return n=t.sent,t.abrupt("return",new Promise((function(t,i){var o=n.transaction(["approved"],"readwrite").objectStore("approved").add({str:e,approved:r,time:Date.now()});o.onerror=function(t){i()},o.onsuccess=function(e){t()}})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function jt(t){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(f.a)(bt().mark((function t(e){var r;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Et(e);case 2:if(!(r=t.sent)){t.next=5;break}return t.abrupt("return",r.approved);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _t(t){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(f.a)(bt().mark((function t(e){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,St(e,!0);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var It=r(11);function Ct(){Ct=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(S){a=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof p?e:p,o=Object.create(i.prototype),s=new x(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return L()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=w(s,r);if(a){if(a===u)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,s),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(S){return{type:"throw",arg:S}}}t.wrap=l;var u={};function p(){}function h(){}function f(){}var d={};a(d,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(E([])));g&&g!==e&&r.call(g,i)&&(d=g);var m=f.prototype=p.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,o){function s(){return new e((function(n,s){!function n(i,o,s,a){var l=c(t[i],t,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(p).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(l.arg)}(i,o,n,s)}))}return n=n?n.then(s,s):s()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,a(m,"constructor",f),a(f,"constructor",h),h.displayName=a(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(b.prototype),a(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var s=new b(l(e,r,n,i),o);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(m),a(m,s,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function Wt(){return(Wt=Object(f.a)(Ct().mark((function t(e,r){var n,i,o,s,a,l;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pt(e);case 2:return n=t.sent,-1!==(i=r.trim()).indexOf("/")&&(i=i.substr(i.lastIndexOf("/")+1)),t.next=7,K("https://makecode.com/api/"+i);case 7:return o=t.sent,t.next=10,K("https://makecode.com/api/"+i+"/text");case 10:return s=t.sent,a={meta:{cloudId:"pxt/arcade",targetVersions:{},name:o.name,editor:o.editor},source:JSON.stringify(s)},t.next=14,ht(JSON.stringify(a));case 14:l=t.sent,y(Dt(n,l).toDataURL("png"),"encoded.png");case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Pt(t){return function(t){var e=document.createElement("img");return new Promise((function(r,n){e.onload=function(){return r(e)},e.crossOrigin="anonymous",e.src=t}))}(t).then((function(t){var e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e}))}function Dt(t,e){for(var r=36+e.length,n=3*(t.width*t.height-1),i=1;i<4&&!(n*i>=8*r);)i++;var o=n*i>>3,s=r-o,a=0,l=t.width*t.height*4;if(s>0){var c=3*t.width;a=Math.ceil(s/c);var u=document.createElement("canvas");u.width=t.width,u.height=t.height+a,u.getContext("2d").drawImage(t,0,0),t=u}var p=function(t){for(var e=new Uint8Array(4*t.length),r=0;r<t.length;++r)Ft(e,4*r,t[r]);return e}([1496611453,e.length,a,0,0,0,0,0,0]);function h(t,e,r,n){for(var i=0,o=0,s=n[o++],a=(1<<r)-1,l=!0;l;){var c=s>>i&a,u=8-i;if(u<=r){if(o>=n.length){if(0==u)break;l=!1}c|=(s=n[o++])<<u&a,i=r-u}else i+=r;t[e]=255&(t[e]&~a|c),3==(3&++e)&&(t[e++]=255)}return e}var f=t.getContext("2d"),d=f.getImageData(0,0,t.width,t.height);h(d.data,0,1,[i]);var v=4;if(v=h(d.data,v,i,p),0===a)v=h(d.data,v,i,e);else{var g=o-p.length;v=h(d.data,v,i,e.slice(0,g)),v=h(d.data,l,8,e.slice(g))}for(v|=3;v<d.data.length;)d.data[v]=255,v+=4;return f.putImageData(d,0,0),t}function Ft(t,e,r){t[e+0]=r>>0&255,t[e+1]=r>>8&255,t[e+2]=r>>16&255,t[e+3]=r>>24&255}function Gt(){Gt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(S){a=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof p?e:p,o=Object.create(i.prototype),s=new x(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return L()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=w(s,r);if(a){if(a===u)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,s),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(S){return{type:"throw",arg:S}}}t.wrap=l;var u={};function p(){}function h(){}function f(){}var d={};a(d,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(E([])));g&&g!==e&&r.call(g,i)&&(d=g);var m=f.prototype=p.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,o){function s(){return new e((function(n,s){!function n(i,o,s,a){var l=c(t[i],t,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(p).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(l.arg)}(i,o,n,s)}))}return n=n?n.then(s,s):s()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,a(m,"constructor",f),a(f,"constructor",h),h.displayName=a(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(b.prototype),a(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var s=new b(l(e,r,n,i),o);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(m),a(m,s,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var Rt=function(t){var e=i.a.useRef(null),r=i.a.useRef(null),n=i.a.useState(!1),o=Object(It.a)(n,2),s=o[0],a=o[1],l=i.a.useState(),c=Object(It.a)(l,2),u=c[0],p=c[1],h=t.onClose;return i.a.useEffect((function(){e.current&&tt(e.current,(function(t){return!0}),function(){var t=Object(f.a)(Gt().mark((function t(e){var r,n;return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e[0],t.next=3,et(r);case 3:n=t.sent,p("data:image/png;base64,"+btoa(A(n)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),i.a.createElement(d,{title:"Encode project as PNG",text:"",visible:!0,className:"png",onClose:h,options:[{text:"No thanks",onClick:h},{text:"Do it",onClick:function(){!function(t,e){Wt.apply(this,arguments)}(u,r.current.value)}}]},i.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"}},u?i.a.createElement("img",{src:u,alt:"the thing you just uploaded",style:{maxHeight:"100px",objectFit:"contain"}}):i.a.createElement("div",{className:"asset-drop ".concat(s?"dragging":""),ref:e,onDragEnter:function(){return a(!0)},onDragLeave:function(){return a(!1)}},"Drop PNG file here"),i.a.createElement("div",null,"Share URL:"),i.a.createElement("input",{ref:r,type:"text"})))};function Bt(){Bt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(S){a=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof p?e:p,o=Object.create(i.prototype),s=new x(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return L()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=w(s,r);if(a){if(a===u)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,s),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(S){return{type:"throw",arg:S}}}t.wrap=l;var u={};function p(){}function h(){}function f(){}var d={};a(d,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(E([])));g&&g!==e&&r.call(g,i)&&(d=g);var m=f.prototype=p.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,o){function s(){return new e((function(n,s){!function n(i,o,s,a){var l=c(t[i],t,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(p).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(l.arg)}(i,o,n,s)}))}return n=n?n.then(s,s):s()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,a(m,"constructor",f),a(f,"constructor",h),h.displayName=a(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(b.prototype),a(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var s=new b(l(e,r,n,i),o);return t.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(m),a(m,s,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var Mt={data:"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==",previewURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAH0lEQVQ4T2NkoBAwUqifYdQAhtEwYBgNA1A+Gvi8AAAmmAARf9qcXAAAAABJRU5ErkJggg==",width:16,height:16},Ut=function(t){Object(c.a)(r,t);var e=Object(u.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t))._items=void 0,n._importInputRef=void 0,n._exportInputRef=void 0,n._dragInit=!1,n.handleMessage=function(t){var e=t.data;switch(e.type){case"ready":n.loadJres(n._items[n.state.selected]);break;case"update":var r=j(e.message,U);if(void 0!==n.state.saving){var i=n.state.saving;n._items[n.state.selected].jres=r,n.setState({items:n._items,selected:i,saving:void 0})}else n._items[n.state.selected].jres=r,n.setState({items:n._items})}},n.autosaveJres=function(){n.state.saving||n.getJres(),setTimeout(n.autosaveJres,2e3)},n.loadJres=function(t){n.props.postMessage({type:"initialize",message:t.jres.data})},n.getJres=function(){n.props.postMessage({type:"update"})},n.onAssetClick=function(t){return function(){n.setState({saving:t})}},n.onAssetRename=function(t){return function(e){n.renameAsset(t,e)}},n.onAssetDelete=function(){n._items.length>1?n.setState({alert:{type:"delete",icon:"exclamation triangle",title:"Warning!",text:"Deleting an image is permanent. You will not be able to undo this action.",options:[{text:"Delete",onClick:function(){n.deleteAsset(n.state.selected),n.hideAlert()}}]}}):n.setState({alert:{type:"warning",icon:"ban",title:"Unable to delete",text:"You must have at least one image in your project."}})},n.onAddButtonClick=function(){n.addAsset("mySprite")},n.onDeleteButtonClick=function(){n.setState({alert:{type:"delete",icon:"exclamation triangle",title:"WARNING",text:"This will delete ALL assets in this project. You will not be able to undo this action.",options:[{text:"Delete All",style:{backgroundColor:"#dc3f34"},onClick:function(){n.clearAssets(),n.hideAlert()}}]}})},n.lastEvent=void 0,n.onPaste=function(t){var e;t.clipboardData.getData("text")!==(null===(e=n.lastEvent)||void 0===e?void 0:e.clipboardData.getData("text"))&&(n.lastEvent=t,n.clearAssets(),n.importAssets(t.clipboardData.getData("text")),n.hideAlert())},n.onImportButtonClick=function(){n.setState({alert:{type:"import",icon:"upload",title:"Import Sprites",text:"Paste a URL from MakeCode Arcade or drag and drop PNG files to import existing sprites.",options:[{text:"Import",onClick:function(){n.importAssets(n._importInputRef.value),n.hideAlert()}}]}})},n.onImportDragEnter=function(t){n.setState({dragging:!0})},n.onImportDragLeave=function(t){n.setState({dragging:!1})},n.onExportButtonClick=function(){n.getJres(),n.setState({alert:{type:"export",icon:"download",title:"Export Sprite Pack",text:"Export your sprites as an .mckd project to load directly into Arcade, or as a .ts file with your images encoded.",options:[{text:"Download MKCD",onClick:function(){n.hideAlert(),function(t,e){mt.apply(this,arguments)}(n._exportInputRef.value||"spritePack",n.state.items)}},{text:"Download TS",onClick:function(){n.hideAlert(),function(t,e){yt.apply(this,arguments)}(n._exportInputRef.value||"spritePack",n.state.items)}}]}})},n.hideAlert=function(){n.setState({alert:void 0})},n.handleImportInputRef=function(t){n._importInputRef=t},n.handleExportInputRef=function(t){n._exportInputRef=t},n.handleDropRef=function(t){n._dragInit||(n._dragInit=!0,tt(document.body,(function(t){return!0}),function(){var t=Object(f.a)(Bt().mark((function t(e){var r,i,o,s,a,l,c;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(h.a)(e),t.prev=1,r.s();case 3:if((i=r.n()).done){t.next=23;break}if(o=i.value,s=o.name.lastIndexOf("."),".png"!==(a=o.name.substr(s)).toLowerCase()){t.next=15;break}return t.next=10,rt(o);case 10:return l=t.sent,t.next=13,n.importBuffer(l);case 13:t.next=21;break;case 15:if(".mkcd"!==a.toLowerCase()){t.next=21;break}return t.next=18,et(o);case 18:return c=t.sent,t.next=21,n.importBuffer(c);case 21:t.next=3;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(1),r.e(t.t0);case 28:return t.prev=28,r.f(),t.finish(28);case 31:case"end":return t.stop()}}),t,null,[[1,25,28,31]])})));return function(e){return t.apply(this,arguments)}}()))},n.onPNGDialogClick=function(){n.setState({pngDialogOpen:!0})},n._items=[],n.state={items:n._items,selected:0,alert:{type:"import",icon:"upload",title:"Import Sprites",text:"Paste a URL from MakeCode Arcade or drag and drop PNG files to import a project.",options:[{text:"Import",onClick:function(){n.importAssets(n._importInputRef.value),n.hideAlert()}}]}},n}return Object(l.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleMessage),setTimeout(this.autosaveJres,2e3),/saveaspng=1/i.test(window.location.href)&&this.setState({pngDialogOpen:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleMessage),window.localStorage.setItem("SPRITE_DATA",JSON.stringify(this._items))}},{key:"componentDidUpdate",value:function(t,e){void 0!==this.state.saving&&void 0===e.saving&&this.getJres(),this.state.selected===e.selected&&this.state.items.length===e.items.length||this.loadJres(this._items[this.state.selected]),window.localStorage.setItem("SPRITE_DATA",JSON.stringify(this._items))}},{key:"addAsset",value:function(t,e){this._items.push({name:this.getValidAssetName(t||"mySprite"),jres:e||Object(p.a)({},Mt)}),this.setState({items:this._items,saving:this._items.length-1})}},{key:"deleteAsset",value:function(t){this._items=this._items.filter((function(e,r){return r!==t})),this.setState({items:this._items,selected:Math.max(t-1,0)})}},{key:"renameAsset",value:function(t,e){this._items[t].name!==e&&(this._items[t].name=this.getValidAssetName(e),this.setState({items:this._items}))}},{key:"clearAssets",value:function(){this._items=[{name:"mySprite",jres:Object(p.a)({},Mt)}],this.setState({items:this._items,selected:0})}},{key:"importAssets",value:function(){var t=Object(f.a)(Bt().mark((function t(e,r){var n;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:return n=t.sent,t.next=5,this.importAssetsCore(n,r);case 5:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"importAssetsCore",value:function(){var t=Object(f.a)(Bt().mark((function t(e,r){var n,i,o,s,a,l,c,u,p,f,d,v,g,m,y,b,w,k,A,x,E,L,S,O,j,N,_,T;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=null===e||void 0===e||null===(n=e.meta)||void 0===n?void 0:n.id,c=null===e||void 0===e||null===(i=e.meta)||void 0===i?void 0:i.target,u=l&&c&&"https://".concat(null===e||void 0===e||null===(o=e.meta)||void 0===o?void 0:o.target,".makecode.com/---run?id=").concat(null===e||void 0===e||null===(s=e.meta)||void 0===s?void 0:s.id,"&noFooter=1&single=1&fullScreen=1"),p=null===e||void 0===e||null===(a=e.meta)||void 0===a?void 0:a.isdeleted,r&&(this._items=[]),f=Object(h.a)(e.projectImages),t.prev=6,f.s();case 8:if((d=f.n()).done){t.next=16;break}return v=d.value,t.next=12,jt(v.previewURI);case 12:if(t.sent){t.next=14;break}this._items.push({name:v.qualifiedName||this.getValidAssetName("mySprite"),jres:v});case 14:t.next=8;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(6),f.e(t.t0);case 21:return t.prev=21,f.f(),t.finish(21);case 24:for(g=[],m=["images.g.jres","images.g.ts","main.blocks","tilemap.g.jres","tilemap.g.ts"],y=0,b=Object.keys(e.files);y<b.length;y++)w=b[y],-1===m.indexOf(w)&&g.push({name:w,content:e.files[w]});if(g=g.filter((function(t){return!!t.content.trim()})),k=[".md",".json",".py",".ts"],g.sort((function(t,e){return k.indexOf(t.name.substr(t.name.lastIndexOf(".")))-k.indexOf(e.name.substr(e.name.lastIndexOf(".")))})),A={other:[],assetNames:[],variableNames:[]},!e.text){t.next=89;break}x=Object(h.a)(e.text.other),t.prev=33,x.s();case 35:if((E=x.n()).done){t.next=43;break}return L=E.value,t.next=39,jt(L);case 39:if(t.sent){t.next=41;break}A.other.push(L);case 41:t.next=35;break;case 43:t.next=48;break;case 45:t.prev=45,t.t1=t.catch(33),x.e(t.t1);case 48:return t.prev=48,x.f(),t.finish(48);case 51:S=Object(h.a)(e.text.assetNames),t.prev=52,S.s();case 54:if((O=S.n()).done){t.next=62;break}return j=O.value,t.next=58,jt(j);case 58:if(t.sent){t.next=60;break}A.assetNames.push(j);case 60:t.next=54;break;case 62:t.next=67;break;case 64:t.prev=64,t.t2=t.catch(52),S.e(t.t2);case 67:return t.prev=67,S.f(),t.finish(67);case 70:N=Object(h.a)(e.text.variableNames),t.prev=71,N.s();case 73:if((_=N.n()).done){t.next=81;break}return T=_.value,t.next=77,jt(T);case 77:if(t.sent){t.next=79;break}A.variableNames.push(T);case 79:t.next=73;break;case 81:t.next=86;break;case 83:t.prev=83,t.t3=t.catch(71),N.e(t.t3);case 86:return t.prev=86,N.f(),t.finish(86);case 89:this.setState({items:this._items,textItems:A,files:g,runUrl:u,isDeleted:p});case 90:case"end":return t.stop()}}),t,this,[[6,18,21,24],[33,45,48,51],[52,64,67,70],[71,83,86,89]])})));return function(e,r){return t.apply(this,arguments)}}()},{key:"getAssetIndex",value:function(t){return this._items.findIndex((function(e){return e.name.toLowerCase()===t.toLowerCase()}))}},{key:"getValidAssetName",value:function(t){for(t=t.replace(/[^a-zA-Z0-9]/g,"");this.getAssetIndex(t)>=0;){var e=t.match(/^(.*?)(\d+)$/);t=e?e[1]+(parseInt(e[2],10)+1):t+"2"}return t}},{key:"importBuffer",value:function(){var t=Object(f.a)(Bt().mark((function t(e){var r,n,i,o;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=17;break}return t.next=3,ft(e);case 3:return r=t.sent,t.prev=4,n=JSON.parse(r),i=JSON.parse(n.source),t.next=9,z(i);case 9:return o=t.sent,t.next=12,this.importAssetsCore(o,!0);case 12:this.hideAlert(),t.next=17;break;case 15:t.prev=15,t.t0=t.catch(4);case 17:case"end":return t.stop()}}),t,this,[[4,15]])})));return function(e){return t.apply(this,arguments)}}()},{key:"approveAllStringsAsync",value:function(){var t=Object(f.a)(Bt().mark((function t(e){var r,n,i,o;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.state.textItems[e],n=Object(h.a)(r),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=10;break}return o=i.value,t.next=8,_t(o);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:this.setState({textItems:{assetNames:this.state.textItems.assetNames.filter((function(t){return-1===r.indexOf(t)})),other:this.state.textItems.other.filter((function(t){return-1===r.indexOf(t)})),variableNames:this.state.textItems.variableNames.filter((function(t){return-1===r.indexOf(t)}))}});case 19:case"end":return t.stop()}}),t,this,[[2,12,15,18]])})));return function(e){return t.apply(this,arguments)}}()},{key:"approveAllImagesAsync",value:function(){var t=Object(f.a)(Bt().mark((function t(){var e,r,n;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Object(h.a)(this.state.items),t.prev=1,e.s();case 3:if((r=e.n()).done){t.next=13;break}return n=r.value,t.next=7,jt(n.jres.previewURI);case 7:if(!t.sent){t.next=9;break}return t.abrupt("continue",11);case 9:return t.next=11,_t(n.jres.previewURI);case 11:t.next=3;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),e.e(t.t0);case 18:return t.prev=18,e.f(),t.finish(18);case 21:this.setState({items:[]});case 22:case"end":return t.stop()}}),t,this,[[1,15,18,21]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state,r=e.items,n=e.selected,o=e.dragging,s=e.alert,a=e.textItems,l=e.files,c=e.runUrl,u=e.isDeleted,p=e.pngDialogOpen,h=a||{},f=h.variableNames,g=h.assetNames,m=h.other;return i.a.createElement("div",{id:"asset-list",onPaste:this.onPaste},s&&!p&&i.a.createElement(d,{icon:s.icon,title:s.title,text:s.text,options:s.options,visible:!0,onClose:this.hideAlert},"import"===s.type&&i.a.createElement("div",{className:"asset-import"},i.a.createElement("div",{className:"asset-drop ".concat(o?"dragging":""),ref:this.handleDropRef,onDragEnter:this.onImportDragEnter,onDragLeave:this.onImportDragLeave},"Drop PNG files here to import."),i.a.createElement("input",{ref:this.handleImportInputRef,onPaste:this.onPaste,placeholder:"https://makecode.com/_r8fboJQTDPtH or https://arcade.makeode.com/62736-71128-62577-28722"})),"export"===s.type&&i.a.createElement("div",{className:"asset-export"},i.a.createElement("input",{ref:this.handleExportInputRef,placeholder:"Enter a name for your project..."}))),p&&i.a.createElement(Rt,{onClose:function(){return t.setState({pngDialogOpen:!1})}}),i.a.createElement("div",{className:"asset-list-buttons"}),!!r.length&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"asset-images"},r.map((function(e,r){return i.a.createElement(v,{key:r,info:e,selected:r===n,onClick:t.onAssetClick(r),onRename:t.onAssetRename(r),onDelete:t.onAssetDelete})}))),i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){return t.approveAllImagesAsync()}},"Approve All Images"))),!!(null===f||void 0===f?void 0:f.length)&&i.a.createElement("div",{className:"asset-files"},i.a.createElement("div",{className:"asset-filename"},"Variables"),i.a.createElement("pre",{className:"asset-file-content"},f.join("\n")),i.a.createElement("button",{onClick:function(){return t.approveAllStringsAsync("variableNames")}},"Approve All Variables")),!!(null===g||void 0===g?void 0:g.length)&&i.a.createElement("div",{className:"asset-files"},i.a.createElement("div",{className:"asset-filename"},"Asset Names"),i.a.createElement("pre",{className:"asset-file-content"},g.join("\n")),i.a.createElement("button",{onClick:function(){return t.approveAllStringsAsync("assetNames")}},"Approve All Names")),!!(null===m||void 0===m?void 0:m.length)&&i.a.createElement("div",{className:"asset-files"},i.a.createElement("div",{className:"asset-filename"},"Strings"),i.a.createElement("pre",{className:"asset-file-content"},m.join("\n")),i.a.createElement("button",{onClick:function(){return t.approveAllStringsAsync("other")}},"Approve All Strings")),!!(null===l||void 0===l?void 0:l.length)&&i.a.createElement("div",{className:"asset-files"},l.map((function(t,e){return i.a.createElement("div",{key:e,className:"asset-file"},i.a.createElement("div",{className:"asset-filename"},t.name),i.a.createElement("pre",{className:"asset-file-content scroll"},t.content))}))),u&&i.a.createElement("div",{className:"banned-script"},i.a.createElement("h1",null,"This script has been deleted by content moderation, and will not show up to users!")),c&&i.a.createElement("div",{className:"sim-embed asset-files"},i.a.createElement("iframe",{src:c,sandbox:"allow-popups allow-forms allow-scripts allow-same-origin"})))}}]),r}(i.a.Component),Jt=(r(28),function(t){Object(c.a)(r,t);var e=Object(u.a)(r);function r(){return Object(a.a)(this,r),e.apply(this,arguments)}return Object(l.a)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"app"},i.a.createElement(Ut,{postMessage:function(){}}))}}]),r}(i.a.Component));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Jt,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.61a06f39.chunk.js.map