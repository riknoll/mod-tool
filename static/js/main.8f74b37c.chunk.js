/*! For license information please see main.8f74b37c.chunk.js.LICENSE.txt */
(this["webpackJsonpmod-tool"]=this["webpackJsonpmod-tool"]||[]).push([[0],{15:function(t,e,r){t.exports=r(28)},20:function(t,e,r){},21:function(t,e,r){},22:function(t,e,r){},23:function(t,e,r){},27:function(t,e,r){},28:function(t,e,r){"use strict";r.r(e);var i=r(0),n=r.n(i),s=r(14),o=r.n(s),a=(r(20),r(2)),l=r(3),c=r(5),u=r(4),p=r(9),h=r(6),f=r(1),d=(r(21),function(t){Object(c.a)(r,t);var e=Object(u.a)(r);function r(){return Object(a.a)(this,r),e.apply(this,arguments)}return Object(l.a)(r,[{key:"onAlertClick",value:function(t){t.stopPropagation(),t.preventDefault()}},{key:"render",value:function(){if(!this.props.visible)return n.a.createElement("div",null);var t=this.props,e=t.title,r=t.text,i=t.icon,s=t.options;return n.a.createElement("div",{className:"alert-container"},n.a.createElement("div",{className:"alert",onClick:this.onAlertClick},n.a.createElement("div",{className:"alert-title"},i&&n.a.createElement("i",{className:"alert-icon icon ".concat(i)}),n.a.createElement("span",null,e)),n.a.createElement("div",{className:"alert-text"},r),this.props.children&&this.props.children,s&&n.a.createElement("div",{className:"alert-options"},s.map((function(t,e){return n.a.createElement("div",{key:e,onClick:t.onClick,style:t.style},t.text)})))))}}]),r}(n.a.Component)),g=(r(22),function(t){Object(c.a)(r,t);var e=Object(u.a)(r);function r(t){var i;return Object(a.a)(this,r),(i=e.call(this,t)).renameInput=void 0,i.onBlur=function(t){i.props.onRename&&i.props.onRename(t.target.value),i.setState({renaming:!1})},i.onDoubleClick=function(t){i.setState({renaming:!0})},i.handleInputRef=function(t){i.renameInput=t},i.state={renaming:!0},i}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.renameInput&&this.renameInput.focus()}},{key:"componentDidUpdate",value:function(t,e){this.state.renaming&&!e.renaming&&this.renameInput.focus()}},{key:"render",value:function(){var t=this.props,e=t.info,r=t.selected,i=t.onClick,s=(t.onDelete,e.name,e.jres);return n.a.createElement("div",{className:"asset ".concat(r?"selected":""),onClick:i},n.a.createElement("div",{className:"asset-img"},n.a.createElement("img",{src:s.previewURI,alt:"Preview of asset"})))}}]),r}(n.a.Component));function m(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/octet-stream",i=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;return y(btoa(w(t)),e,r,i,n)}function v(t,e){b(k(btoa(t),"text/plain"),e)}function b(t,e){if(navigator&&/Edge/i.test(navigator.userAgent)||navigator&&/Trident/i.test(navigator.userAgent)){var r=A(atob(t.split(",")[1])),i=new Blob([r],{type:"img/png"});window.navigator.msSaveOrOpenBlob(i,e)}else{var n=window.document.createElement("a");"string"==typeof n.download?(n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)):document.location.href=t}}function y(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/octet-stream",i=arguments.length>4?arguments[4]:void 0,n=window.navigator.msSaveOrOpenBlob,s=k(t,e);try{if(n){var o=new Blob([A(atob(t))],{type:r});window.navigator.msSaveOrOpenBlob(o,e)}else b(s,e)}catch(a){i&&i(a)}return s}function k(t,e){return"data:"+e+";base64,"+t}function A(t){for(var e=t.length,r=new Uint8Array(e),i=0;i<e;++i)r[i]=255&t.charCodeAt(i);return r}function w(t){for(var e=t.length,r="",i=0;i<e;++i)r+=String.fromCharCode(t[i]);return r}var x=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],S=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],E=["abstract","any","as","break","case","catch","class","continue","const","constructor","debugger","declare","default","delete","do","else","enum","export","extends","false","finally","for","from","function","get","if","implements","import","in","instanceof","interface","is","let","module","namespace","new","null","package","private","protected","public","require","global","return","set","static","super","switch","symbol","this","throw","true","try","type","typeof","var","void","while","with","yield","async","await","of","Math"];function L(t){if(!t)return"_";var e,r=t.trim().replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_$]/g,(function(t){return O(t.charCodeAt(0),S)?t:""}));return 0!==r.length&&-1===E.indexOf(r)&&(e=r.charAt(0),/[a-zA-Z_$]/.test(e)||O(e.charCodeAt(0),x))||(r="_"+r),r}function O(t,e){if(t<e[0])return!1;for(var r,i=0,n=e.length;i+1<n;){if(r=i+(n-i)/2,e[r-=r%2]<=t&&t<=e[r+1])return!0;t<e[r]?n=r:i=r+2}return!1}function j(){j=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(L){a=function(t,e,r){return t[e]=r}}function l(t,e,r,i){var n=e&&e.prototype instanceof p?e:p,s=Object.create(n.prototype),o=new x(i||[]);return s._invoke=function(t,e,r){var i="suspendedStart";return function(n,s){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===n)throw s;return E()}for(r.method=n,r.arg=s;;){var o=r.delegate;if(o){var a=k(o,r);if(a){if(a===u)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===i)throw i="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i="executing";var l=c(t,e,r);if("normal"===l.type){if(i=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i="completed",r.method="throw",r.arg=l.arg)}}}(t,r,o),s}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var u={};function p(){}function h(){}function f(){}var d={};a(d,n,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==e&&r.call(m,n)&&(d=m);var v=f.prototype=p.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var i;this._invoke=function(n,s){function o(){return new e((function(i,o){!function i(n,s,o,a){var l=c(t[n],t,s);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,o,a)}),(function(t){i("throw",t,o,a)})):e.resolve(p).then((function(t){u.value=t,o(u)}),(function(t){return i("throw",t,o,a)}))}a(l.arg)}(n,s,i,o)}))}return i=i?i.then(o,o):o()}}function k(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,u;var n=i.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function S(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return s.next=s}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",f),a(f,"constructor",h),h.displayName=a(f,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(y.prototype),a(y.prototype,s,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,i,n,s){void 0===s&&(s=Promise);var o=new y(l(e,r,i,n),s);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},b(v),a(v,o,"Generator"),a(v,n,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(r,i){return o.type="throw",o.arg=t,e.next=r,i&&(e.method="next",e.arg=void 0),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(a&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,u):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;w(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function T(t){return W.apply(this,arguments)}function W(){return(W=Object(f.a)(j().mark((function t(e){var r,i,n,s;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e);case 2:if(r=t.sent,(i=document.createElement("canvas")).width=r.width,i.height=r.height,n=i.getContext("2d")){t.next=9;break}return t.abrupt("return",null);case 9:return n.drawImage(r,0,0),s=n.getImageData(0,0,i.width,i.height),t.abrupt("return",{width:s.width,height:s.height,pixels:s.data});case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(j().mark((function t(e){return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var r=document.createElement("img");r.src=e,r.onload=function(){t(r)}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(t,e){return _.apply(this,arguments)}function _(){return(_=Object(f.a)(j().mark((function t(e,r){var i,n,s;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=btoa(w(e)),t.next=3,T("data:image/png;base64,"+i);case 3:if(!(n=t.sent)){t.next=9;break}return s=G(n,r),t.next=8,F(s,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("return",null);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(t,e,r,i,n){return P($(t),e,t,r,i,n)}function F(t,e,r){return P(function(t,e){!(t=(t=(t=t.replace(/[ `]|(?:&#96;)|(?:&#9;)|(?:img)/g,"").trim()).replace(/^["`\(\)]*/,"").replace(/["`\(\)]*$/,"")).replace(/&#10;/g,"\n"))&&e&&(t=e);for(var r=t.split("\n"),i=[],n=0,s=0;s<r.length;s++){for(var o=r[s],a=[],l=0;l<o.length;l++)switch(o[l]){case"0":case".":a.push(0);break;case"1":case"#":a.push(1);break;case"2":case"T":a.push(2);break;case"3":case"t":a.push(3);break;case"4":case"N":a.push(4);break;case"5":case"n":a.push(5);break;case"6":case"G":a.push(6);break;case"7":case"g":a.push(7);break;case"8":a.push(8);break;case"9":a.push(9);break;case"a":case"A":case"R":a.push(10);break;case"b":case"B":case"P":a.push(11);break;case"c":case"C":case"p":a.push(12);break;case"d":case"D":case"O":a.push(13);break;case"e":case"E":case"Y":a.push(14);break;case"f":case"F":case"W":a.push(15)}a.length&&(i.push(a),n=Math.max(n,a.length))}for(var c=i.length,u=new K(n,c),p=0;p<c;p++)for(var h=i[p],f=0;f<n;f++)f<h.length?u.set(f,p,h[f]):u.set(f,p,0);return u}(t),e,void 0,void 0,void 0,r)}function P(t,e,r,i,n,s){return{width:t.width,height:t.height,data:r||Y(t),previewURI:Z(t,e),qualifiedName:i,tilemapTile:n,sourceFile:s}}function R(t){return function(t,e){var r="";switch(e){case"python":r='img("""';break;default:r="img`"}if(t)for(var i=0;i<t.height;i++){r+="\n";for(var n=0;n<t.width;n++)r+=B[t.get(n,i)]+" "}switch(r+="\n",e){case"python":r+='""")';break;default:r+="`"}return r}($(t.data),"typescript")}var B=[".","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function G(t,e){var r=M(e);return function(t,e,r){for(var i="img`\n    ",n=0;n<e;n++){for(var s=[],o=0;o<t;o++)s.push(r(o,n));i+=s.map((function(t){return t.toString(16)})).join(" "),i+="\n    "}return i+="`"}(t.width,t.height,(function(e,i){var n=i*t.width+e;return J(t.pixels,n<<2,r)}))}function M(t){for(var e=[],r=0;r<t.length;r++){var i=Q(t[r]);e.push([H(i),V(i),q(i)])}return e}function U(t){return t*t}function J(t,e,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(i&&t[e+3]<100)return 0;for(var n=0,s=-1,o=i?1:0;o<r.length;++o){var a=U(r[o][0]-t[e+0])+U(r[o][1]-t[e+1])+U(r[o][2]-t[e+2]);(s<0||a<n)&&(s=o,n=a)}return s}function z(t,e,r,i){for(var n=p(224|r)+p(t)+p(e)+"00",s=4,o=0,a=0,l=function(t){o|=t<<a,a==8-r?(n+=p(o),s++,o=0,a=0):a+=r},c=0;c<t;++c){for(var u=0;u<e;++u)l(i(c,u));for(;0!=a;)l(0);if(r>1)for(;3&s;)l(0)}return n;function p(t){return("0"+t.toString(16)).slice(-2)}}function Y(t){var e=z(t.width,t.height,4,(function(e,r){return t.get(e,r)}));return btoa(w(function(t){for(var e=new Uint8ClampedArray(t.length>>1),r=0;r<t.length;r+=2)e[r>>1]=parseInt(t.slice(r,r+2),16);return e}(e)))}function H(t){return t>>16&255}function V(t){return t>>8&255}function q(t){return 255&t}function Q(t){if(t){if(6===t.length)return parseInt("0x"+t);if(7===t.length)return parseInt("0x"+t.substr(1))}return 0}var K=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0;Object(a.a)(this,t),this.width=e,this.height=r,this.x0=i,this.y0=n,this.buf=void 0,this.buf=s||new Uint8ClampedArray(this.dataLength())}return Object(l.a)(t,[{key:"set",value:function(t,e,r){if(t<this.width&&e<this.height&&t>=0&&e>=0){var i=this.coordToIndex(t,e);this.setCore(i,r)}}},{key:"get",value:function(t,e){if(t<this.width&&e<this.height&&t>=0&&e>=0){var r=this.coordToIndex(t,e);return this.getCore(r)}return 0}},{key:"coordToIndex",value:function(t,e){return t+e*this.width}},{key:"getCore",value:function(t){var e=Math.floor(t/2);return t%2===0?15&this.buf[e]:(240&this.buf[e])>>4}},{key:"setCore",value:function(t,e){var r=Math.floor(t/2);this.buf[r]=t%2===0?240&this.buf[r]|15&e:15&this.buf[r]|(15&e)<<4}},{key:"dataLength",value:function(){return Math.ceil(this.width*this.height/2)}}]),t}();function $(t){var e=atob(t.slice(t.indexOf(",")+1)),r=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2);135===r&&(r=224|e.charCodeAt(1),i=e.charCodeAt(2)|e.charCodeAt(3)<<8,n=e.charCodeAt(4)|e.charCodeAt(5)<<8,e=e.slice(4));var s=new K(i,n),o=4;if(225===r)for(var a=1,l=e.charCodeAt(o++),c=0;c<i;++c)for(var u=0;u<n;++u)s.set(c,u,l&a?1:0),256==(a<<=1)&&(a=1,l=e.charCodeAt(o++));else for(var p=0;p<i;p++){for(var h=0;h<n;h+=2){var f=e.charCodeAt(o++);s.set(p,h,15&f),h!=n-1&&s.set(p,h+1,f>>4&15)}for(;3&o;)o++}return s}function Z(t,e){var r=document.createElement("canvas");r.width=t.width,r.height=t.height;var i=r.getContext("2d");if(i)for(var n=0;n<t.width;n++)for(var s=0;s<t.height;s++){var o=t.get(n,s);o&&(i.fillStyle=e[o],i.fillRect(n,s,1,1))}return r.toDataURL()}var X=r(11),tt=['"- - - - - - - - "',"Projectile","Food","Enemy","mySprite","Player","mySprite2","Sprite.x","effects.spray","false","animation.flyToCenter","ADD","min","max","round","ceil","floor","trunc","Sprite.x","Sprite.y","Sprite.vx","MINUS","MULTIPLY","DIVIDE","POWER","sqrt","sin","cos","tan","atan2","idiv","imul","TRUE","AND","OR","FALSE","TileDirection.Left","TileDirection.Bottom","TileDirection.Right","TileDirection.Top","TileDirection.Center","animation.AnimationTypes.All","animation.AnimationTypes.ImageAnimation","animation.AnimationTypes.MovementAnimation","list","Sprite.vy","Sprite.ax","Sprite.ay","Sprite.fx","Sprite.fy","Sprite.lifespan","Sprite.width","Sprite.height","Sprite.left","Sprite.right","Sprite.top","Sprite.bottom","Sprite.z","SpriteFlag.AutoDestroy","SpriteFlag.Ghost","SpriteFlag.StayInScreen","SpriteFlag.DestroyOnWall","SpriteFlag.BounceOnWall","SpriteFlag.ShowPhysics","SpriteFlag.Invisible","SpriteFlag.RelativeToCamera","SpriteFlag.GhostThroughSprites","SpriteFlag.GhostThroughTiles","SpriteFlag.GhostThroughWalls","controller.right","ControllerButtonEvent.Released","controller.A","ControllerButtonEvent.Pressed","controller.down","ControllerButtonEvent.Repeated","controller.B","controller.menu","controller.left","controller.anyButton","controller.up","sprite","sprites.castle.tileGrass2","location","controller.player2","ControllerEvent.Disconnected","info.player2","controller.player3","ControllerEvent.Connected","info.player3","info.player4","controller.player4","music.wawawawaa","music.baDing","music.jumpUp","music.jumpDown","music.sonar","music.spooky","music.beamUp","music.smallCrash","music.bigCrash","music.zapped","music.buzzer","music.powerUp","music.powerDown","music.magicWand","music.siren","music.pewPew","music.knock","music.footstep","music.thump","controller.player1","info.player1","EQ","GT","LT","GTE","LTE","NEQ","true","false","sprites.food.bigBurger","sprites.food.bigDrumstick","sprites.food.bigHam","sprites.food.bigPizza","sprites.food.bigTaco","sprites.food.bigCake","sprites.food.bigDonut","sprites.food.bigIceCream","sprites.food.plate","sprites.builtin.angelFish0","sprites.builtin.angelFish1","sprites.builtin.angelFish2","sprites.builtin.angelFish3","sprites.builtin.aquaticBackground","sprites.builtin.bed0","sprites.builtin.bed1","sprites.builtin.bed2","sprites.builtin.brick","sprites.builtin.cat0","sprites.builtin.cat1","sprites.builtin.cat2","sprites.builtin.clam0","sprites.builtin.clam1","sprites.builtin.clam2","sprites.builtin.clownFish0","sprites.builtin.clownFish1","sprites.builtin.clownFish2","sprites.builtin.clownFish3","sprites.builtin.coin0","sprites.builtin.coin1","sprites.builtin.coin2","sprites.builtin.coin3","sprites.builtin.coin4","sprites.builtin.coin5","sprites.builtin.computer0","sprites.builtin.computer1","sprites.builtin.console","sprites.builtin.coral0","sprites.builtin.coral1","sprites.builtin.coral2","sprites.builtin.coral3","sprites.builtin.coral4","sprites.builtin.coral5","sprites.builtin.couchFront0","sprites.builtin.couchFront1","sprites.builtin.couchSide0","sprites.builtin.couchSide1","sprites.builtin.couchSide2","sprites.builtin.crowd0","sprites.builtin.crowd1","sprites.builtin.crowd2","sprites.builtin.crowd3","sprites.builtin.crowd4","sprites.builtin.crowd5","sprites.builtin.crowd6","sprites.builtin.crowd7","sprites.builtin.crowd8","sprites.builtin.crowd9","sprites.builtin.dog0","sprites.builtin.dog1","sprites.builtin.dog2","sprites.builtin.field0","sprites.builtin.field1","sprites.builtin.fieldGoal","sprites.builtin.football1","sprites.builtin.football2","sprites.builtin.football3","sprites.builtin.football4","sprites.builtin.football6","sprites.builtin.football7","sprites.builtin.footballPlayer0","sprites.builtin.footballPlayer1","sprites.builtin.footballPlayer2","sprites.builtin.footballPlayer3","sprites.builtin.footballPlayer4","sprites.builtin.footballPlayer5","sprites.builtin.footballPlayer6","sprites.builtin.footballPlayer7","sprites.builtin.forestBackground","sprites.builtin.forestBat0","sprites.builtin.forestBat1","sprites.builtin.forestBat2","sprites.builtin.forestBat3","sprites.builtin.forestBat4","sprites.builtin.forestBat5","sprites.builtin.forestBat6","sprites.builtin.forestBat7","sprites.builtin.forestFlowers0","sprites.builtin.forestFlowers1","sprites.builtin.forestFlowers2","sprites.builtin.forestLargeMushroom0","sprites.builtin.forestLargeMushroom1","sprites.builtin.forestMonkey0","sprites.builtin.forestMonkey1","sprites.builtin.forestMonkey2","sprites.builtin.forestMonkey3","sprites.builtin.forestMonkey4","sprites.builtin.forestMonkey5","sprites.builtin.forestMonkey6","sprites.builtin.forestMonkey7","sprites.builtin.forestMonkey8","sprites.builtin.forestMonkey9","sprites.builtin.forestMonkey10","sprites.builtin.forestMushroomPatch","sprites.builtin.forestScenery0","sprites.builtin.forestScenery1","sprites.builtin.forestScenery2","sprites.builtin.forestScenery3","sprites.builtin.forestSnake0","sprites.builtin.forestSnake1","sprites.builtin.forestSnake2","sprites.builtin.forestSnake3","sprites.builtin.forestSnake4","sprites.builtin.forestSnake5","sprites.builtin.forestSnake6","sprites.builtin.forestSnake7","sprites.builtin.forestTiles0","sprites.builtin.forestTiles1","sprites.builtin.forestTiles2","sprites.builtin.forestTiles3","sprites.builtin.forestTiles4","sprites.builtin.forestTiles5","sprites.builtin.forestTiles6","sprites.builtin.forestTiles7","sprites.builtin.forestTiles8","sprites.builtin.forestTiles9","sprites.builtin.forestTiles10","sprites.builtin.forestTiles11","sprites.builtin.forestTiles12","sprites.builtin.forestTiles13","sprites.builtin.forestTiles14","sprites.builtin.forestTiles15","sprites.builtin.forestTiles16","sprites.builtin.forestTiles17","sprites.builtin.forestTiles18","sprites.builtin.forestTiles19","sprites.builtin.forestTiles20","sprites.builtin.forestTiles21","sprites.builtin.forestTiles22","sprites.builtin.forestTiles23","sprites.builtin.forestTiles24","sprites.builtin.forestTiles25","sprites.builtin.forestTiles26","sprites.builtin.forestTiles27","sprites.builtin.forestTiles28","sprites.builtin.forestTiles29","sprites.builtin.forestTree0","sprites.builtin.forestTree1","sprites.builtin.forestTree2","sprites.builtin.forestTree3","sprites.builtin.forestTreeGroup0","sprites.builtin.forestTreeGroup1","sprites.builtin.forestTreeGroup2","sprites.builtin.forestTreeGroup3","sprites.builtin.forestTreeGroup4","sprites.builtin.furnitureRug","sprites.builtin.furnitureTable1","sprites.builtin.furnitureTable2","sprites.builtin.hermitCrabAttack0","sprites.builtin.hermitCrabAttack1","sprites.builtin.hermitCrabAttack2","sprites.builtin.hermitCrabAttack3","sprites.builtin.hermitCrabAttack4","sprites.builtin.hermitCrabAttack5","sprites.builtin.hermitCrabAwaken0","sprites.builtin.hermitCrabAwaken1","sprites.builtin.hermitCrabAwaken2","sprites.builtin.hermitCrabAwaken3","sprites.builtin.hermitCrabAwaken4","sprites.builtin.hermitCrabAwaken5","sprites.builtin.hermitCrabWalk0","sprites.builtin.hermitCrabWalk1","sprites.builtin.hermitCrabWalk2","sprites.builtin.hermitCrabWalk3","sprites.builtin.largeOceanRock","sprites.builtin.largeShelf","sprites.builtin.mediumOceanRock","sprites.builtin.oceanDepths0","sprites.builtin.oceanDepths1","sprites.builtin.oceanDepths2","sprites.builtin.oceanDepths3","sprites.builtin.oceanDepths4","sprites.builtin.oceanDepths5","sprites.builtin.oceanDepths6","sprites.builtin.oceanDepths7","sprites.builtin.oceanDepths8","sprites.builtin.oceanDepths9","sprites.builtin.oceanDepths10","sprites.builtin.oceanDepths11","sprites.builtin.oceanSand0","sprites.builtin.oceanSand1","sprites.builtin.oceanSand2","sprites.builtin.oceanSand3","sprites.builtin.oceanSand4","sprites.builtin.oceanSand5","sprites.builtin.oceanSand6","sprites.builtin.oceanSand7","sprites.builtin.oceanSand8","sprites.builtin.oceanSand9","sprites.builtin.oceanSand10","sprites.builtin.oceanSand11","sprites.builtin.oceanSand12","sprites.builtin.oceanSand13","sprites.builtin.oceanSand14","sprites.builtin.oceanSand15","sprites.builtin.seaweed0","sprites.builtin.seaweed1","sprites.builtin.seaweed2","sprites.builtin.shark0","sprites.builtin.shark1","sprites.builtin.shark2","sprites.builtin.shark3","sprites.builtin.sharkAttack0","sprites.builtin.sharkAttack1","sprites.builtin.sharkAttack2","sprites.builtin.sharkAttack3","sprites.builtin.sharkAttack4","sprites.builtin.sharkAttack5","sprites.builtin.smallOceanRock","sprites.builtin.smallShelf0","sprites.builtin.smallShelf1","sprites.builtin.smallShelf2","sprites.builtin.tv","sprites.builtin.villager1WalkFront1","sprites.builtin.villager1WalkFront2","sprites.builtin.villager1WalkFront3","sprites.builtin.villager1WalkBack1","sprites.builtin.villager1WalkBack2","sprites.builtin.villager1WalkBack3","sprites.builtin.villager1WalkLeft1","sprites.builtin.villager1WalkLeft2","sprites.builtin.villager1WalkLeft3","sprites.builtin.villager1WalkRight1","sprites.builtin.villager1WalkRight2","sprites.builtin.villager1WalkRight3","sprites.builtin.villager2WalkFront1","sprites.builtin.villager2WalkFront2","sprites.builtin.villager2WalkFront3","sprites.builtin.villager2WalkBack1","sprites.builtin.villager2WalkBack2","sprites.builtin.villager2WalkBack3","sprites.builtin.villager2WalkLeft1","sprites.builtin.villager2WalkLeft2","sprites.builtin.villager2WalkLeft3","sprites.builtin.villager2WalkRight1","sprites.builtin.villager2WalkRight2","sprites.builtin.villager2WalkRight3","sprites.builtin.villager3WalkFront1","sprites.builtin.villager3WalkFront2","sprites.builtin.villager3WalkFront3","sprites.builtin.villager3WalkBack1","sprites.builtin.villager3WalkBack2","sprites.builtin.villager3WalkBack3","sprites.builtin.villager3WalkLeft1","sprites.builtin.villager3WalkLeft2","sprites.builtin.villager3WalkLeft3","sprites.builtin.villager3WalkRight1","sprites.builtin.villager3WalkRight2","sprites.builtin.villager3WalkRight3","sprites.builtin.villager4WalkFront1","sprites.builtin.villager4WalkFront2","sprites.builtin.villager4WalkFront3","sprites.builtin.villager4WalkBack1","sprites.builtin.villager4WalkBack2","sprites.builtin.villager4WalkBack3","sprites.builtin.villager4WalkLeft1","sprites.builtin.villager4WalkLeft2","sprites.builtin.villager4WalkRight1","sprites.builtin.villager4WalkRight2","sprites.castle.heroFrontAttack1","sprites.castle.heroFrontAttack2","sprites.castle.heroFrontAttack3","sprites.castle.heroFrontAttack4","sprites.castle.heroSideAttackLeft1","sprites.castle.heroSideAttackLeft2","sprites.castle.heroSideAttackLeft3","sprites.castle.heroSideAttackLeft4","sprites.castle.heroSideAttackRight4","sprites.castle.heroSideAttackRight3","sprites.castle.heroSideAttackRight2","sprites.castle.heroSideAttackRight1","sprites.castle.heroWalkFront1","sprites.castle.heroWalkFront2","sprites.castle.heroWalkFront3","sprites.castle.heroWalkFront4","sprites.castle.heroWalkBack1","sprites.castle.heroWalkBack2","sprites.castle.heroWalkBack3","sprites.castle.heroWalkBack4","sprites.castle.heroWalkShieldFront1","sprites.castle.heroWalkShieldFront2","sprites.castle.heroWalkShieldFront3","sprites.castle.heroWalkShieldFront4","sprites.castle.heroWalkShieldBack1","sprites.castle.heroWalkShieldBack2","sprites.castle.heroWalkShieldBack3","sprites.castle.heroWalkShieldBack4","sprites.castle.heroWalkShieldSideLeft1","sprites.castle.heroWalkShieldSideLeft2","sprites.castle.heroWalkShieldSideLeft3","sprites.castle.heroWalkShieldSideLeft4","sprites.castle.heroWalkShieldSideRight4","sprites.castle.heroWalkShieldSideRight3","sprites.castle.heroWalkShieldSideRight2","sprites.castle.heroWalkShieldSideRight1","sprites.castle.heroWalkSideLeft1","sprites.castle.heroWalkSideLeft2","sprites.castle.heroWalkSideLeft3","sprites.castle.heroWalkSideLeft4","sprites.castle.heroWalkSideRight4","sprites.castle.heroWalkSideRight3","sprites.castle.heroWalkSideRight2","sprites.castle.heroWalkSideRight1","sprites.castle.houseRed","sprites.castle.houseBlue","sprites.castle.princessFront0","sprites.castle.princessFront1","sprites.castle.princessFront2","sprites.castle.princessLeft0","sprites.castle.princessLeft1","sprites.castle.princessLeft2","sprites.castle.princessBack0","sprites.castle.princessBack1","sprites.castle.princessBack2","sprites.castle.princess2Front","sprites.castle.princess2WalkFront1","sprites.castle.princess2WalkFront2","sprites.castle.princess2WalkFront3","sprites.castle.princess2Back","sprites.castle.princess2WalkBack1","sprites.castle.princess2WalkBack2","sprites.castle.princess2WalkBack3","sprites.castle.princess2Left1","sprites.castle.princess2Left2","sprites.castle.princess2Right1","sprites.castle.princess2Right2","sprites.castle.rock0","sprites.castle.rock1","sprites.castle.rock2","sprites.castle.saplingOak","sprites.castle.saplingPine","sprites.castle.shrub","sprites.castle.skellyFront","sprites.castle.skellyWalkFront1","sprites.castle.skellyWalkFront2","sprites.castle.skellyWalkFront3","sprites.castle.skellyAttackFront1","sprites.castle.skellyAttackFront2","sprites.castle.skellyAttackFront3","sprites.castle.skellyAttackFront4","sprites.castle.skellyWalkLeft1","sprites.castle.skellyAttackLeft1","sprites.castle.skellyAttackLeft2","sprites.castle.skellyWalkLeft2","sprites.castle.skellyWalkRight1","sprites.castle.skellyAttackRight1","sprites.castle.skellyAttackRight2","sprites.castle.skellyWalkRight2","sprites.castle.tileGrass2","sprites.castle.tilePath1","sprites.castle.tilePath2","sprites.castle.tilePath3","sprites.castle.tileGrass1","sprites.castle.tilePath4","sprites.castle.tilePath5","sprites.castle.tilePath6","sprites.castle.tileGrass3","sprites.castle.tilePath7","sprites.castle.tilePath8","sprites.castle.tilePath9","sprites.castle.tileDarkGrass1","sprites.castle.tileDarkGrass2","sprites.castle.tileDarkGrass3","sprites.castle.treePine","sprites.castle.treeOak","sprites.castle.treeSmallPine","sprites.dialog.hugeLeaf","sprites.dialog.largeShell","sprites.dialog.largeStar","sprites.dialog.mediumStar","sprites.dialog.mediumShell","sprites.dialog.mediumLeaf0","sprites.dialog.mediumLeaf1","sprites.dialog.smallIndustrial0","sprites.dialog.smallIndustrial1","sprites.dialog.smallBlue0","sprites.dialog.smallBlue1","sprites.dialog.smallDefault","sprites.dialog.smallSwirlyWhite","sprites.dialog.smallSwirlyPurple","sprites.dialog.smallDialogLeftThin","sprites.dialog.smallDialogLeftThick","sprites.dialog.smallDialogCenterThin","sprites.dialog.smallDialogcenterThick","sprites.duck.duck1","sprites.duck.duck2","sprites.duck.duck3","sprites.duck.duck4","sprites.duck.duck5","sprites.duck.duck6","sprites.duck.duckHurt","sprites.duck.log1","sprites.duck.log2","sprites.duck.log3","sprites.duck.log4","sprites.duck.log5","sprites.duck.log6","sprites.duck.log7","sprites.duck.log8","sprites.duck.tree","sprites.dungeon.buttonOrange","sprites.dungeon.buttonOrangeDepressed","sprites.dungeon.buttonTeal","sprites.dungeon.buttonTealDepressed","sprites.dungeon.buttonPink","sprites.dungeon.buttonPinkDepressed","sprites.dungeon.chestClosed","sprites.dungeon.chestOpen","sprites.dungeon.collectibleInsignia","sprites.dungeon.collectibleRedCrystal","sprites.dungeon.collectibleBlueCrystal","sprites.dungeon.darkGroundNorthWest0","sprites.dungeon.darkGroundNorth","sprites.dungeon.darkGroundNorthEast0","sprites.dungeon.darkGroundNorthWest1","sprites.dungeon.darkGroundWest","sprites.dungeon.darkGroundCenter","sprites.dungeon.darkGroundEast","sprites.dungeon.darkGroundNorthEast1","sprites.dungeon.darkGroundSouthWest0","sprites.dungeon.darkGroundSouth","sprites.dungeon.darkGroundSouthEast0","sprites.dungeon.darkGroundSouthEast1","sprites.dungeon.darkGroundSouthWest1","sprites.dungeon.doorClosedWest","sprites.dungeon.doorClosedSouth","sprites.dungeon.doorClosedNorth","sprites.dungeon.doorClosedEast","sprites.dungeon.doorOpenWest","sprites.dungeon.doorOpenSouth","sprites.dungeon.doorOpenNorth","sprites.dungeon.doorOpenEast","sprites.dungeon.doorLockedWest","sprites.dungeon.doorLockedSouth","sprites.dungeon.doorLockedNorth","sprites.dungeon.doorLockedEast","sprites.dungeon.floorLight0","sprites.dungeon.floorLight1","sprites.dungeon.floorLight2","sprites.dungeon.floorLightMoss","sprites.dungeon.floorLight3","sprites.dungeon.floorLight4","sprites.dungeon.floorLight5","sprites.dungeon.floorMixed","sprites.dungeon.floorDark0","sprites.dungeon.floorDark1","sprites.dungeon.floorDark2","sprites.dungeon.floorDarkDiamond","sprites.dungeon.floorDark3","sprites.dungeon.floorDark4","sprites.dungeon.floorDark5","sprites.dungeon.greenOuterNorthWest","sprites.dungeon.greenOuterNorth0","sprites.dungeon.greenOuterNorth1","sprites.dungeon.greenOuterNorthEast","sprites.dungeon.greenOuterWest0","sprites.dungeon.greenInnerNorthWest","sprites.dungeon.greenInnerNorthEast","sprites.dungeon.greenOuterEast0","sprites.dungeon.greenOuterWest1","sprites.dungeon.greenInnerSouthWest","sprites.dungeon.greenInnerSouthEast","sprites.dungeon.greenOuterEast1","sprites.dungeon.greenOuterSouthEast","sprites.dungeon.greenOuterSouth0","sprites.dungeon.greenOuterSouth1","sprites.dungeon.greenOuterSouthWest","sprites.dungeon.greenOuterNorth2","sprites.dungeon.greenOuterEast2","sprites.dungeon.greenOuterSouth2","sprites.dungeon.greenOuterWest2","sprites.dungeon.greenSwitchUp","sprites.dungeon.greenSwitchDown","sprites.dungeon.hazardWater","sprites.dungeon.hazardLava0","sprites.dungeon.hazardLava1","sprites.dungeon.hazardHole","sprites.dungeon.hazardSpike","sprites.dungeon.purpleOuterNorthWest","sprites.dungeon.purpleOuterNorth0","sprites.dungeon.purpleOuterNorth1","sprites.dungeon.purpleOuterNorthEast","sprites.dungeon.purpleOuterWest0","sprites.dungeon.purpleInnerNorthWest","sprites.dungeon.purpleInnerNorthEast","sprites.dungeon.purpleOuterEast0","sprites.dungeon.purpleOuterWest1","sprites.dungeon.purpleInnerSouthWest","sprites.dungeon.purpleInnerSouthEast","sprites.dungeon.purpleOuterEast1","sprites.dungeon.purpleOuterSouthEast","sprites.dungeon.purpleOuterSouth0","sprites.dungeon.purpleOuterSouth1","sprites.dungeon.purpleOuterSouthWest","sprites.dungeon.purpleOuterNorth2","sprites.dungeon.purpleOuterEast2","sprites.dungeon.purpleOuterSouth2","sprites.dungeon.purpleOuterWest2","sprites.dungeon.purpleSwitchUp","sprites.dungeon.purpleSwitchDown","sprites.dungeon.stairWest","sprites.dungeon.stairSouth","sprites.dungeon.stairNorth","sprites.dungeon.stairEast","sprites.dungeon.stairLarge","sprites.dungeon.stairLadder","sprites.dungeon.statueLight","sprites.dungeon.statueDark","sprites.food.smallBurger","sprites.food.smallApple","sprites.food.smallLemon","sprites.food.smallDrumstick","sprites.food.smallHam","sprites.food.smallPizza","sprites.food.smallDonut","sprites.food.smallCake","sprites.food.smallIceCream","sprites.food.smallStrawberry","sprites.food.smallCherries","sprites.food.smallTaco","sprites.space.spaceSmallAsteroid0","sprites.space.spaceSmallAsteroid1","sprites.space.spaceSmallAsteroid2","sprites.space.spaceSmallAsteroid3","sprites.space.spaceAsteroid0","sprites.space.spaceAsteroid1","sprites.space.spaceSmallAsteroid4","sprites.space.spaceSmallAsteroid5","sprites.space.spaceRedShip","sprites.space.spaceAsteroid2","sprites.space.spaceAsteroid3","sprites.space.spaceAsteroid4","sprites.space.spaceOrangeShip","sprites.space.spacePinkShip","sprites.space.spaceBlueShip","sprites.space.spaceGreenShip","sprites.vehicle.carRedLeft","sprites.vehicle.carRedRight","sprites.vehicle.carRedBack","sprites.vehicle.carRedFront","sprites.vehicle.carBlueLeft","sprites.vehicle.carBlueRight","sprites.vehicle.carBlueBack","sprites.vehicle.carBlueFront","sprites.vehicle.carPinkLeft","sprites.vehicle.carPinkRight","sprites.vehicle.carPinkBack","sprites.vehicle.carPinkFront","sprites.vehicle.roadTurn1","sprites.vehicle.roadTurn2","sprites.vehicle.roadIntersection1","sprites.vehicle.roadIntersection2","sprites.vehicle.roadTurn3","sprites.vehicle.roadTurn4","sprites.vehicle.roadIntersection3","sprites.vehicle.roadIntersection4","sprites.vehicle.roadVertical","sprites.vehicle.roadHorizontal","tiles.util.arrow0","tiles.util.arrow1","tiles.util.arrow2","tiles.util.arrow3","tiles.util.arrow4","tiles.util.arrow5","tiles.util.arrow6","tiles.util.arrow7","tiles.util.arrow8","tiles.util.arrow9","tiles.util.arrow10","tiles.util.arrow11","tiles.util.arrow12","tiles.util.arrow13","tiles.util.arrow14","tiles.util.arrow15","tiles.util.door0","tiles.util.door1","tiles.util.door2","tiles.util.door3","tiles.util.door4","tiles.util.door5","tiles.util.door6","tiles.util.door7","tiles.util.door8","tiles.util.door9","tiles.util.door10","tiles.util.door11","tiles.util.door12","tiles.util.door13","tiles.util.door14","tiles.util.door15","tiles.util.object0","tiles.util.object1","tiles.util.object2","tiles.util.object3","tiles.util.object4","tiles.util.object5","tiles.util.object6","tiles.util.object7","tiles.util.object8","tiles.util.object9","tiles.util.object10","tiles.util.object11","tiles.util.object12","tiles.util.object13","tiles.util.object14","tiles.util.object15","effects.clouds","effects.starField","effects.bubbles","effects.blizzard","effects.disintegrate","effects.ashes","effects.halo","effects.coolRadial","effects.warmRadial","effects.fire","effects.rings","effects.smiles","effects.hearts","effects.confetti","effects.fountain","effects.trail","effects.spray"];function et(){et=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(L){a=function(t,e,r){return t[e]=r}}function l(t,e,r,i){var n=e&&e.prototype instanceof p?e:p,s=Object.create(n.prototype),o=new x(i||[]);return s._invoke=function(t,e,r){var i="suspendedStart";return function(n,s){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===n)throw s;return E()}for(r.method=n,r.arg=s;;){var o=r.delegate;if(o){var a=k(o,r);if(a){if(a===u)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===i)throw i="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i="executing";var l=c(t,e,r);if("normal"===l.type){if(i=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i="completed",r.method="throw",r.arg=l.arg)}}}(t,r,o),s}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var u={};function p(){}function h(){}function f(){}var d={};a(d,n,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==e&&r.call(m,n)&&(d=m);var v=f.prototype=p.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var i;this._invoke=function(n,s){function o(){return new e((function(i,o){!function i(n,s,o,a){var l=c(t[n],t,s);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,o,a)}),(function(t){i("throw",t,o,a)})):e.resolve(p).then((function(t){u.value=t,o(u)}),(function(t){return i("throw",t,o,a)}))}a(l.arg)}(n,s,i,o)}))}return i=i?i.then(o,o):o()}}function k(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,u;var n=i.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function S(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return s.next=s}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",f),a(f,"constructor",h),h.displayName=a(f,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(y.prototype),a(y.prototype,s,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,i,n,s){void 0===s&&(s=Promise);var o=new y(l(e,r,i,n),s);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},b(v),a(v,o,"Generator"),a(v,n,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(r,i){return o.type="throw",o.arg=t,e.next=r,i&&(e.method="next",e.arg=void 0),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(a&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,u):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;w(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var rt="https://makecode.com/api",it=["#000000","#ffffff","#ff2121","#ff93c4","#ff8135","#fff609","#249ca3","#78dc52","#003fad","#87f2ff","#8e2ec4","#a4839f","#5c406c","#e5cdc4","#91463d","#000000"];function nt(){return(nt=Object(f.a)(et().mark((function t(e){var r,i,n,s,o,a,l,c;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return-1!==(r=e.trim()).indexOf("/")&&(r=r.substr(r.lastIndexOf("/")+1)),t.next=4,ut(rt+"/"+r);case 4:return i=t.sent,t.next=7,ut(rt+"/"+r+"/text");case 7:if(n=t.sent,s=n["pxt.json"],o=it,a=!1,s)try{(null===(l=JSON.parse(s))||void 0===l?void 0:l.palette)&&Array.isArray(l.palette)&&(o=l.palette.slice(),a=!0)}catch(u){}return c=at(n),t.abrupt("return",{meta:i,files:n,projectImages:c,text:st(n),customPalette:a?o:void 0});case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function st(t){var e=t["main.blocks"],r=[],i=[],n=[],s=/\s*img\s*`[\s\da-fA-F.#tngrpoywTNGRPOYW]*`\s*/m,o=/^[+.\s\d-]*$/;if(tt.forEach((function(t){t.startsWith("Sprite.")&&tt.push(t+"@set")})),e){for(var a=(new DOMParser).parseFromString(e,"text/xml"),l=a.getElementsByTagName("field"),c=0;c<l.length;c++){var u;console.log(l.item(c).getAttribute("name"));var p=null===(u=l.item(c).textContent)||void 0===u?void 0:u.trim();if(p&&!o.test(p)&&!s.test(p)&&-1===tt.indexOf(p))if("VAR"===l.item(c).getAttribute("name"))i.push(p);else{var h=/^(?:assets\s*.)?\s*(?:(?:tilemap)|(?:image)|(?:tile)|(?:animation))\s*`([^`]+)`\s*$/.exec(p);if(h){if(/(?:myImage|tile|level|myAnim)\d+/.test(h[1]))continue;n.push(h[1])}else r.push(p)}}for(var f=a.getElementsByTagName("comment"),d=0;d<f.length;d++){var g=f.item(d).textContent;!g||/^[0-9\s]*$/.test(g)||s.test(g)||o.test(g)||-1!==tt.indexOf(g)||r.push(g.trim())}}return{other:ot(r),assetNames:ot(n),variableNames:ot(i)}}function ot(t){var e=[];return t.forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),e}function at(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it,i=Object.keys(t).filter((function(t){return t.endsWith(".ts")||t.endsWith(".jres")})),n=[],s=Object(h.a)(i);try{for(s.s();!(e=s.n()).done;){var o=e.value,a=t[o];o.endsWith("jres")?n.push.apply(n,Object(X.a)(lt(a,o,r))):n.push.apply(n,Object(X.a)(ct(a,o,r)))}}catch(d){s.e(d)}finally{s.f()}for(var l={},c=0,u=n;c<u.length;c++){var p=u[c],f=l[p.data];(!f||!f.qualifiedName&&p.qualifiedName)&&(l[p.data]=p)}return Object.keys(l).map((function(t){return l[t]}))}function lt(t,e){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:it;try{r=JSON.parse(t)}catch(h){return[]}for(var n=r["*"],s=(null===n||void 0===n?void 0:n.mimeType)||"",o=(null===n||void 0===n?void 0:n.namespace)||"",a=[],l=0,c=Object.keys(r);l<c.length;l++){var u=c[l];if("*"!==u){var p=r[u];"string"===typeof p?"image/x-mkcd-f4"===s&&a.push(D(p,i,o?o+"."+u:u,!1,e)):"image/x-mkcd-f4"===p.mimeType&&a.push(D(p.data,i,o?o+"."+u:u,p.tilemapTile,e))}}return a}function ct(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:it,i=/img\s*`[\s\da-f.#tngrpoyw]*`/gim,n=[];return t.replace(i,(function(t){return n.push(F(t,r,e)),""})),n}function ut(t){return new Promise((function(e,r){var i=new XMLHttpRequest;i.addEventListener("error",(function(t){r(t)})),i.addEventListener("load",(function(){try{e(JSON.parse(i.responseText))}catch(t){r(t)}})),i.open("GET",t),i.send()}))}function pt(t){return t?new Promise((function(e,r){var i=new FileReader;i.onerror=function(t){return e(null)},i.onload=function(t){return e(new Uint8Array(i.result))},i.readAsArrayBuffer(t)})):Promise.resolve(null)}r(23);var ht=r(10);function ft(t){var e=ht.LZMA;return new Promise((function(r,i){try{e.decompress(t,(function(t,e){e?i(e):r(t)}))}catch(n){i(n)}}))}function dt(){dt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(L){a=function(t,e,r){return t[e]=r}}function l(t,e,r,i){var n=e&&e.prototype instanceof p?e:p,s=Object.create(n.prototype),o=new x(i||[]);return s._invoke=function(t,e,r){var i="suspendedStart";return function(n,s){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===n)throw s;return E()}for(r.method=n,r.arg=s;;){var o=r.delegate;if(o){var a=k(o,r);if(a){if(a===u)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===i)throw i="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i="executing";var l=c(t,e,r);if("normal"===l.type){if(i=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i="completed",r.method="throw",r.arg=l.arg)}}}(t,r,o),s}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var u={};function p(){}function h(){}function f(){}var d={};a(d,n,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==e&&r.call(m,n)&&(d=m);var v=f.prototype=p.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var i;this._invoke=function(n,s){function o(){return new e((function(i,o){!function i(n,s,o,a){var l=c(t[n],t,s);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,o,a)}),(function(t){i("throw",t,o,a)})):e.resolve(p).then((function(t){u.value=t,o(u)}),(function(t){return i("throw",t,o,a)}))}a(l.arg)}(n,s,i,o)}))}return i=i?i.then(o,o):o()}}function k(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,u;var n=i.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function S(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return s.next=s}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",f),a(f,"constructor",h),h.displayName=a(f,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(y.prototype),a(y.prototype,s,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,i,n,s){void 0===s&&(s=Promise);var o=new y(l(e,r,i,n),s);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},b(v),a(v,o,"Generator"),a(v,n,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(r,i){return o.type="throw",o.arg=t,e.next=r,i&&(e.method="next",e.arg=void 0),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(a&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,u):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;w(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var gt='\nconst padding = 10;\nconst speed = 50;\ngame.onUpdate(function() {\n    for (const sprite of sprites.allOfKind(SpriteKind.Player)) {\n        if (sprite.vx > 0 && sprite.x >= screen.width - padding) {\n            sprite.x = screen.width - padding;\n            sprite.vx = 0;\n            sprite.vy = speed;\n        }\n        else if (sprite.vy > 0 && sprite.y >= screen.height - padding) {\n            sprite.y = screen.height - padding;\n            sprite.vx = -speed;\n            sprite.vy = 0;\n        }\n        else if (sprite.vx < 0 && sprite.x <= padding) {\n            sprite.x = padding;\n            sprite.vx = 0;\n            sprite.vy = -speed;\n        }\n        else if (sprite.vy < 0 && sprite.bottom <= 0) {\n            sprite.destroy();\n        }\n    }\n})\n\nlet index = 0;\ngame.onUpdateInterval(700, function() {\n    const asset = sprites.create(allImages[index], SpriteKind.Player);\n    asset.x = padding;\n    asset.y = padding;\n    asset.vx = speed;\n    asset.setFlag(SpriteFlag.Ghost, true)\n    index = (index + 1) % allImages.length;\n})\n\nlet line1 = sprites.create(img`0`, SpriteKind.Food)\nline1.say("PRESS A TO  ")\n\nlet line2 = sprites.create(img`0`, SpriteKind.Food)\nline2.say("CHANGE COLOR")\nline2.top += 10\n\nlet bgColor = 0;\ncontroller.player1.onButtonEvent(ControllerButton.A, ControllerButtonEvent.Pressed, function() {\n    scene.setBackgroundColor(bgColor);\n    bgColor = (bgColor + 1) % 15\n})';function mt(t,e,r,i){var n=JSON.stringify({name:t,dependencies:{device:"*"},description:"An asset pack for MakeCode Arcade",files:["main.blocks","main.ts","assets.jres","assets.ts"],testFiles:["test.ts"]},null,4),s={};s["pxt.json"]=n,s["main.ts"]='/*\n * This project was created using arcade-sprite-pack. If you\n * want to publish this project to GitHub as a sprite pack, do\n * not add any code to this file! The code that is running in the\n * simulator can be edited by clicking on the file explorer to the\n * left and selecting "test.ts". Any code added to "test.ts" will\n * not be added to a project that imports this sprite pack as an\n * extension.\n *\n * If you don\'t wish to publish this project, you can use this project\n * as-is. Your sprites should show up in the sprite gallery. Make sure\n * you delete the code in "test.ts"!\n *\n *\n * To publish this project to GitHub:\n *   1. Rename this project to something descriptive\n *   2. Click the GitHub button in the bottom bar next to the save\n *      button (sign in to GitHub if prompted)\n *   3. Choose a name for your repository. This is the name that\n *      people will see when importing your project.\n *   4. Make sure "public repository" is selected in the dropdown\n *      if you want other people to be able to use your sprites\n *   5. Click "go ahead"\n *   6. If you are on a shared computer, make sure you sign out of\n *      GitHub!\n *\n *\n * To add a published project to an Arcade project:\n *   1. Inside the MakeCode editor, click "Extensions" under "Advanced"\n *      in the toolbox\n *   2. Inside the search box that appears, type your GitHub username\n *      followed by a "/" and the name of the repository. It should\n *      look something like this: username/repository\n *   3. Hit enter on your keyboard and click the card that appears\n *   4. The sprites should now show up in the gallery of the sprite\n *      editor (at the bottom)\n * */\n',s["test.ts"]=i,s["assets.ts"]=e,s["assets.jres"]=r,s["README.md"]="",s["main.blocks"]='<xml xmlns="http://www.w3.org/1999/xhtml"><variables></variables><block type="pxt-on-start" x="0" y="0"></block></xml>';var o={meta:{cloudId:"pxt/arcade",targetVersions:{},name:t,editor:"tsprj"},source:JSON.stringify(s)};return function(t){var e=ht.LZMA;return new Promise((function(r,i){try{e.compress(t,7,(function(t,e){e?i(e):r(new Uint8Array(t))}))}catch(n){i(n)}}))}(JSON.stringify(o))}function vt(){return(vt=Object(f.a)(dt().mark((function t(e,r){var i,n,s,o,a,l,c,u,p,f,d,g;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g=function(t){var e=L(t);if(!s[e])return s[e]=!0,e;for(var r=2;s[e+r];)r++;return s[e+r]=!0,e+r},i="",n={},s={},o=L(e)+"Sprites",a=[],n["*"]={namespace:o,mimeType:"image/x-mkcd-f4"},l=Object(h.a)(r);try{for(l.s();!(c=l.n()).done;)u=c.value,p=g(u.name),u.jres.tilemapTile?(n[p]={id:p,data:u.jres.data,tilemapTile:!0,mimeType:"image/x-mkcd-f4"},i+="    //% fixedInstance jres blockIdentity=images._tile\n"):(n[p]=u.jres.data,i+="    //% fixedInstance jres blockIdentity=images._image\n"),i+="    export const ".concat(p," = image.ofBuffer(hex``);\n"),a.push(o+"."+p)}catch(v){l.e(v)}finally{l.f()}return i="namespace ".concat(o," {\n").concat(i,"\n}\n"),f="const allImages = [".concat(a.join(","),"]\n").concat(gt),t.next=13,mt(e,i,JSON.stringify(n),f);case 13:return d=t.sent,t.abrupt("return",m(d,e+".mkcd"));case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function bt(){return(bt=Object(f.a)(dt().mark((function t(e,r){var i,n,s,o,a,l;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=function(t){var e=L(t);if(!n[e])return n[e]=!0,e;for(var r=2;n[e+r];)r++;return n[e+r]=!0,e+r},i="",n={},s=Object(h.a)(r);try{for(s.s();!(o=s.n()).done;)a=o.value,i+="const ".concat(l(a.name)," = ").concat(R(a.jres),";\n")}catch(c){s.e(c)}finally{s.f()}return t.abrupt("return",v(i,e+".ts"));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yt(){yt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(L){a=function(t,e,r){return t[e]=r}}function l(t,e,r,i){var n=e&&e.prototype instanceof p?e:p,s=Object.create(n.prototype),o=new x(i||[]);return s._invoke=function(t,e,r){var i="suspendedStart";return function(n,s){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===n)throw s;return E()}for(r.method=n,r.arg=s;;){var o=r.delegate;if(o){var a=k(o,r);if(a){if(a===u)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===i)throw i="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i="executing";var l=c(t,e,r);if("normal"===l.type){if(i=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i="completed",r.method="throw",r.arg=l.arg)}}}(t,r,o),s}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var u={};function p(){}function h(){}function f(){}var d={};a(d,n,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==e&&r.call(m,n)&&(d=m);var v=f.prototype=p.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var i;this._invoke=function(n,s){function o(){return new e((function(i,o){!function i(n,s,o,a){var l=c(t[n],t,s);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,o,a)}),(function(t){i("throw",t,o,a)})):e.resolve(p).then((function(t){u.value=t,o(u)}),(function(t){return i("throw",t,o,a)}))}a(l.arg)}(n,s,i,o)}))}return i=i?i.then(o,o):o()}}function k(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,u;var n=i.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function S(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return s.next=s}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",f),a(f,"constructor",h),h.displayName=a(f,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(y.prototype),a(y.prototype,s,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,i,n,s){void 0===s&&(s=Promise);var o=new y(l(e,r,i,n),s);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},b(v),a(v,o,"Generator"),a(v,n,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(r,i){return o.type="throw",o.arg=t,e.next=r,i&&(e.method="next",e.arg=void 0),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(a&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,u):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;w(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var kt={data:"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==",previewURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAH0lEQVQ4T2NkoBAwUqifYdQAhtEwYBgNA1A+Gvi8AAAmmAARf9qcXAAAAABJRU5ErkJggg==",width:16,height:16},At=function(t){Object(c.a)(r,t);var e=Object(u.a)(r);function r(t){var i;return Object(a.a)(this,r),(i=e.call(this,t))._items=void 0,i._importInputRef=void 0,i._exportInputRef=void 0,i._dragInit=!1,i.handleMessage=function(t){var e=t.data;switch(e.type){case"ready":i.loadJres(i._items[i.state.selected]);break;case"update":var r=D(e.message,it);if(void 0!==i.state.saving){var n=i.state.saving;i._items[i.state.selected].jres=r,i.setState({items:i._items,selected:n,saving:void 0})}else i._items[i.state.selected].jres=r,i.setState({items:i._items})}},i.autosaveJres=function(){i.state.saving||i.getJres(),setTimeout(i.autosaveJres,2e3)},i.loadJres=function(t){i.props.postMessage({type:"initialize",message:t.jres.data})},i.getJres=function(){i.props.postMessage({type:"update"})},i.onAssetClick=function(t){return function(){i.setState({saving:t})}},i.onAssetRename=function(t){return function(e){i.renameAsset(t,e)}},i.onAssetDelete=function(){i._items.length>1?i.setState({alert:{type:"delete",icon:"exclamation triangle",title:"Warning!",text:"Deleting an image is permanent. You will not be able to undo this action.",options:[{text:"Delete",onClick:function(){i.deleteAsset(i.state.selected),i.hideAlert()}}]}}):i.setState({alert:{type:"warning",icon:"ban",title:"Unable to delete",text:"You must have at least one image in your project."}})},i.onAddButtonClick=function(){i.addAsset("mySprite")},i.onDeleteButtonClick=function(){i.setState({alert:{type:"delete",icon:"exclamation triangle",title:"WARNING",text:"This will delete ALL assets in this project. You will not be able to undo this action.",options:[{text:"Delete All",style:{backgroundColor:"#dc3f34"},onClick:function(){i.clearAssets(),i.hideAlert()}}]}})},i.onPaste=function(t){i.clearAssets(),i.importAssets(t.clipboardData.getData("text")),i.hideAlert()},i.onImportButtonClick=function(){i.setState({alert:{type:"import",icon:"upload",title:"Import Sprites",text:"Paste a URL from MakeCode Arcade or drag and drop PNG files to import existing sprites.",options:[{text:"Import",onClick:function(){i.importAssets(i._importInputRef.value),i.hideAlert()}}]}})},i.onImportDragEnter=function(t){i.setState({dragging:!0})},i.onImportDragLeave=function(t){i.setState({dragging:!1})},i.onExportButtonClick=function(){i.getJres(),i.setState({alert:{type:"export",icon:"download",title:"Export Sprite Pack",text:"Export your sprites as an .mckd project to load directly into Arcade, or as a .ts file with your images encoded.",options:[{text:"Download MKCD",onClick:function(){i.hideAlert(),function(t,e){vt.apply(this,arguments)}(i._exportInputRef.value||"spritePack",i.state.items)}},{text:"Download TS",onClick:function(){i.hideAlert(),function(t,e){bt.apply(this,arguments)}(i._exportInputRef.value||"spritePack",i.state.items)}}]}})},i.hideAlert=function(){i.setState({alert:void 0})},i.handleImportInputRef=function(t){i._importInputRef=t},i.handleExportInputRef=function(t){i._exportInputRef=t},i.handleDropRef=function(t){var e,r,n;i._dragInit||(i._dragInit=!0,e=document.body,r=function(t){return!0},n=function(){var t=Object(f.a)(yt().mark((function t(e){var r,n,s,o,a,l,c,u,p,f,d;return yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(h.a)(e),t.prev=1,r.s();case 3:if((n=r.n()).done){t.next=30;break}if(s=n.value,o=s.name.lastIndexOf("."),a=s.name.substr(o),l=s.name.slice(0,o),".png"!==a.toLowerCase()){t.next=19;break}return t.next=11,pt(s);case 11:if(!(c=t.sent)){t.next=17;break}return t.next=15,I(c,it);case 15:(u=t.sent)&&(i.addAsset(l,u),i.hideAlert());case 17:t.next=28;break;case 19:if(".mkcd"!==a.toLowerCase()){t.next=28;break}return t.next=22,pt(s);case 22:if(!(p=t.sent)){t.next=28;break}return t.next=26,ft(p);case 26:f=t.sent;try{d=JSON.parse(f),at(JSON.parse(d.source)).forEach((function(t){i._items.push({name:t.qualifiedName||i.getValidAssetName("mySprite"),jres:t})})),i.setState({items:i._items}),i.hideAlert()}catch(g){}case 28:t.next=3;break;case 30:t.next=35;break;case 32:t.prev=32,t.t0=t.catch(1),r.e(t.t0);case 35:return t.prev=35,r.f(),t.finish(35);case 38:case"end":return t.stop()}}),t,null,[[1,32,35,38]])})));return function(e){return t.apply(this,arguments)}}(),e.addEventListener("paste",(function(t){if(t.clipboardData){for(var e=[],i=0;i<t.clipboardData.files.length;i++)t.clipboardData.files.item(i)&&e.push(t.clipboardData.files.item(i));if((e=e.filter(r)).length>0)t.stopPropagation(),t.preventDefault(),n(e);else if(t.clipboardData.items&&t.clipboardData.items.length>0){var s=t.clipboardData.items[0].getAsFile();s&&(t.stopPropagation(),t.preventDefault(),n([s]))}}})),e.addEventListener("dragover",(function(t){if(t.dataTransfer){for(var e=t.dataTransfer.types,r=!1,i=0;i<e.length;++i)"Files"===e[i]&&(r=!0);if(r)return t.preventDefault&&t.preventDefault(),t.dataTransfer.dropEffect="copy",!1}return!0}),!1),e.addEventListener("drop",(function(t){if(t.dataTransfer){for(var e=[],r=0;r<t.dataTransfer.files.length;r++)t.dataTransfer.files.item(r)&&e.push(t.dataTransfer.files.item(r));e.length>0&&(t.stopPropagation(),t.preventDefault(),n(e))}return!1}),!1),e.addEventListener("dragend",(function(t){return!1}),!1))},i._items=[{name:"mySprite",jres:Object(p.a)({},kt)}],i.state={items:i._items,selected:0,alert:{type:"import",icon:"upload",title:"Import Sprites",text:"Paste a URL from MakeCode Arcade or drag and drop PNG files to import a project.",options:[{text:"Import",onClick:function(){i.importAssets(i._importInputRef.value),i.hideAlert()}}]}},i}return Object(l.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleMessage),this.loadJres(this._items[this.state.selected]),setTimeout(this.autosaveJres,2e3)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleMessage),window.localStorage.setItem("SPRITE_DATA",JSON.stringify(this._items))}},{key:"componentDidUpdate",value:function(t,e){void 0!==this.state.saving&&void 0===e.saving&&this.getJres(),this.state.selected===e.selected&&this.state.items.length===e.items.length||this.loadJres(this._items[this.state.selected]),window.localStorage.setItem("SPRITE_DATA",JSON.stringify(this._items))}},{key:"addAsset",value:function(t,e){this._items.push({name:this.getValidAssetName(t||"mySprite"),jres:e||Object(p.a)({},kt)}),this.setState({items:this._items,saving:this._items.length-1})}},{key:"deleteAsset",value:function(t){this._items=this._items.filter((function(e,r){return r!==t})),this.setState({items:this._items,selected:Math.max(t-1,0)})}},{key:"renameAsset",value:function(t,e){this._items[t].name!==e&&(this._items[t].name=this.getValidAssetName(e),this.setState({items:this._items}))}},{key:"clearAssets",value:function(){this._items=[{name:"mySprite",jres:Object(p.a)({},kt)}],this.setState({items:this._items,selected:0})}},{key:"importAssets",value:function(t,e){var r=this;(function(t){return nt.apply(this,arguments)})(t).then((function(t){var i,n,s,o,a=null===t||void 0===t||null===(i=t.meta)||void 0===i?void 0:i.id,l=null===t||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.target,c=a&&l&&"https://".concat(null===t||void 0===t||null===(s=t.meta)||void 0===s?void 0:s.target,".makecode.com/---run?id=").concat(null===t||void 0===t||null===(o=t.meta)||void 0===o?void 0:o.id,"&noFooter=1&single=1&fullScreen=1");e&&(r._items=[]),t.projectImages.forEach((function(t){r._items.push({name:t.qualifiedName||r.getValidAssetName("mySprite"),jres:t})}));for(var u=[],p=["images.g.jres","images.g.ts","main.blocks","tilemap.g.jres","tilemap.g.ts"],h=0,f=Object.keys(t.files);h<f.length;h++){var d=f[h];-1===p.indexOf(d)&&u.push({name:d,content:t.files[d]})}u=u.filter((function(t){return!!t.content.trim()}));var g=[".md",".json",".py",".ts"];u.sort((function(t,e){return g.indexOf(t.name.substr(t.name.lastIndexOf(".")))-g.indexOf(e.name.substr(e.name.lastIndexOf(".")))})),r.setState({items:r._items,textItems:t.text,files:u,runUrl:c})}))}},{key:"getAssetIndex",value:function(t){return this._items.findIndex((function(e){return e.name.toLowerCase()===t.toLowerCase()}))}},{key:"getValidAssetName",value:function(t){for(t=t.replace(/[^a-zA-Z0-9]/g,"");this.getAssetIndex(t)>=0;){var e=t.match(/^(.*?)(\d+)$/);t=e?e[1]+(parseInt(e[2],10)+1):t+"2"}return t}},{key:"render",value:function(){var t=this,e=this.state,r=e.items,i=e.selected,s=e.dragging,o=e.alert,a=e.textItems,l=e.files,c=e.runUrl,u=a||{},p=u.variableNames,h=u.assetNames,f=u.other;return n.a.createElement("div",{id:"asset-list",onPaste:this.onPaste},o&&n.a.createElement(d,{icon:o.icon,title:o.title,text:o.text,options:o.options,visible:!0,onClose:this.hideAlert},"import"===o.type&&n.a.createElement("div",{className:"asset-import"},n.a.createElement("div",{className:"asset-drop ".concat(s?"dragging":""),ref:this.handleDropRef,onDragEnter:this.onImportDragEnter,onDragLeave:this.onImportDragLeave},"Drop PNG files here to import."),n.a.createElement("input",{ref:this.handleImportInputRef,onPaste:this.onPaste,placeholder:"https://makecode.com/_r8fboJQTDPtH or https://arcade.makeode.com/62736-71128-62577-28722"})),"export"===o.type&&n.a.createElement("div",{className:"asset-export"},n.a.createElement("input",{ref:this.handleExportInputRef,placeholder:"Enter a name for your project..."}))),n.a.createElement("div",{className:"asset-list-buttons"}),n.a.createElement("div",{className:"asset-images"},r.map((function(e,r){return n.a.createElement(g,{key:r,info:e,selected:r===i,onClick:t.onAssetClick(r),onRename:t.onAssetRename(r),onDelete:t.onAssetDelete})}))),!!(null===p||void 0===p?void 0:p.length)&&n.a.createElement("div",{className:"asset-files"},n.a.createElement("div",{className:"asset-filename"},"Variables"),n.a.createElement("pre",{className:"asset-file-content"},p.join("\n"))),!!(null===h||void 0===h?void 0:h.length)&&n.a.createElement("div",{className:"asset-files"},n.a.createElement("div",{className:"asset-filename"},"Asset Names"),n.a.createElement("pre",{className:"asset-file-content"},h.join("\n"))),!!(null===f||void 0===f?void 0:f.length)&&n.a.createElement("div",{className:"asset-files"},n.a.createElement("div",{className:"asset-filename"},"Strings"),n.a.createElement("pre",{className:"asset-file-content"},f.join("\n"))),!!(null===l||void 0===l?void 0:l.length)&&n.a.createElement("div",{className:"asset-files"},l.map((function(t,e){return n.a.createElement("div",{key:e,className:"asset-file"},n.a.createElement("div",{className:"asset-filename"},t.name),n.a.createElement("pre",{className:"asset-file-content scroll"},t.content))}))),c&&n.a.createElement("div",{className:"sim-embed asset-files"},n.a.createElement("iframe",{src:c,sandbox:"allow-popups allow-forms allow-scripts allow-same-origin"})))}}]),r}(n.a.Component),wt=(r(27),function(t){Object(c.a)(r,t);var e=Object(u.a)(r);function r(){return Object(a.a)(this,r),e.apply(this,arguments)}return Object(l.a)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return n.a.createElement("div",{className:"app"},n.a.createElement(At,{postMessage:function(){}}))}}]),r}(n.a.Component));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(wt,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.8f74b37c.chunk.js.map