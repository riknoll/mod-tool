(this["webpackJsonparcade-sprite-pack"]=this["webpackJsonparcade-sprite-pack"]||[]).push([[0],{16:function(e,t,n){e.exports=n(30)},21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(15),s=n.n(i),o=(n(21),n(3)),c=n(4),l=n(6),u=n(5),d=n(10),p=n(1),f=n.n(p),h=n(7),m=n(2),A=(n(23),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"onAlertClick",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"render",value:function(){if(!this.props.visible)return r.a.createElement("div",null);var e=this.props,t=e.title,n=e.text,a=e.icon,i=e.options;return r.a.createElement("div",{className:"alert-container",onClick:this.props.onClose},r.a.createElement("div",{className:"alert",onClick:this.onAlertClick},r.a.createElement("div",{className:"alert-title"},a&&r.a.createElement("i",{className:"alert-icon icon ".concat(a)}),r.a.createElement("span",null,t),r.a.createElement("i",{className:"icon delete",onClick:this.props.onClose})),r.a.createElement("div",{className:"alert-text"},n),this.props.children&&this.props.children,i&&r.a.createElement("div",{className:"alert-options"},i.map((function(e,t){return r.a.createElement("div",{key:t,onClick:e.onClick,style:e.style},e.text)})))))}}]),n}(r.a.Component)),v=(n(24),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).renameInput=void 0,a.onBlur=function(e){a.props.onRename&&a.props.onRename(e.target.value),a.setState({renaming:!1})},a.onDoubleClick=function(e){a.setState({renaming:!0})},a.handleInputRef=function(e){a.renameInput=e},a.state={renaming:!0},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.renameInput&&this.renameInput.focus()}},{key:"componentDidUpdate",value:function(e,t){this.state.renaming&&!t.renaming&&this.renameInput.focus()}},{key:"render",value:function(){var e=this.props,t=e.info,n=e.selected,a=e.onClick,i=e.onDelete,s=t.name,o=t.jres;return r.a.createElement("div",{className:"asset ".concat(n?"selected":""),onClick:a},n&&r.a.createElement("div",{className:"asset-delete",onClick:i},r.a.createElement("i",{className:"icon delete"})),r.a.createElement("div",{className:"asset-img"},r.a.createElement("img",{src:o.previewURI,alt:"Preview of asset"})),this.state.renaming&&n?r.a.createElement("input",{className:"asset-rename",onBlur:this.onBlur,defaultValue:s,ref:this.handleInputRef}):r.a.createElement("div",{className:"asset-title",onDoubleClick:this.onDoubleClick},r.a.createElement("span",null,s)))}}]),n}(r.a.Component));function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/octet-stream",a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return k(btoa(C(e)),t,n,a,r)}function b(e,t){y(w(btoa(e),"text/plain"),t)}function y(e,t){if(navigator&&/Edge/i.test(navigator.userAgent)||navigator&&/Trident/i.test(navigator.userAgent)){var n=x(atob(e.split(",")[1])),a=new Blob([n],{type:"img/png"});window.navigator.msSaveOrOpenBlob(a,t)}else{var r=window.document.createElement("a");"string"==typeof r.download?(r.href=e,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)):document.location.href=e}}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/octet-stream",a=arguments.length>4?arguments[4]:void 0,r=window.navigator.msSaveOrOpenBlob,i=w(e,t);try{if(r){var s=new Blob([x(atob(e))],{type:n});window.navigator.msSaveOrOpenBlob(s,t)}else y(i,t)}catch(o){a&&a(o)}return i}function w(e,t){return"data:"+t+";base64,"+e}function x(e){for(var t=e.length,n=new Uint8Array(t),a=0;a<t;++a)n[a]=255&e.charCodeAt(a);return n}function C(e){for(var t=e.length,n="",a=0;a<t;++a)n+=String.fromCharCode(e[a]);return n}var E=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],j=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],I=["abstract","any","as","break","case","catch","class","continue","const","constructor","debugger","declare","default","delete","do","else","enum","export","extends","false","finally","for","from","function","get","if","implements","import","in","instanceof","interface","is","let","module","namespace","new","null","package","private","protected","public","require","global","return","set","static","super","switch","symbol","this","throw","true","try","type","typeof","var","void","while","with","yield","async","await","of","Math"];function O(e){if(!e)return"_";var t,n=e.trim().replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_$]/g,(function(e){return S(e.charCodeAt(0),j)?e:""}));return 0!==n.length&&-1===I.indexOf(n)&&(t=n.charAt(0),/[a-zA-Z_$]/.test(t)||S(t.charCodeAt(0),E))||(n="_"+n),n}function S(e,t){if(e<t[0])return!1;for(var n,a=0,r=t.length;a+1<r;){if(n=a+(r-a)/2,t[n-=n%2]<=e&&e<=t[n+1])return!0;e<t[n]?r=n:a=n+2}return!1}function N(e){return _.apply(this,arguments)}function _(){return(_=Object(m.a)(f.a.mark((function e(t){var n,a,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:if(n=e.sent,(a=document.createElement("canvas")).width=n.width,a.height=n.height,r=a.getContext("2d")){e.next=9;break}return e.abrupt("return",null);case 9:return r.drawImage(n,0,0),i=r.getImageData(0,0,a.width,a.height),e.abrupt("return",{width:i.width,height:i.height,pixels:i.data});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return T.apply(this,arguments)}function T(){return(T=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=document.createElement("img");n.src=t,n.onload=function(){e(n)}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return M.apply(this,arguments)}function M(){return(M=Object(m.a)(f.a.mark((function e(t,n){var a,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=btoa(C(t)),e.next=3,N("data:image/png;base64,"+a);case 3:if(!(r=e.sent)){e.next=9;break}return i=G(r,n),e.next=8,J(i,n);case 8:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,n,a,r){return P($(e),t,e,n,a,r)}function J(e,t,n){return P(function(e,t){!(e=(e=(e=e.replace(/[ `]|(?:&#96;)|(?:&#9;)|(?:img)/g,"").trim()).replace(/^["`\(\)]*/,"").replace(/["`\(\)]*$/,"")).replace(/&#10;/g,"\n"))&&t&&(e=t);for(var n=e.split("\n"),a=[],r=0,i=0;i<n.length;i++){for(var s=n[i],o=[],c=0;c<s.length;c++)switch(s[c]){case"0":case".":o.push(0);break;case"1":case"#":o.push(1);break;case"2":case"T":o.push(2);break;case"3":case"t":o.push(3);break;case"4":case"N":o.push(4);break;case"5":case"n":o.push(5);break;case"6":case"G":o.push(6);break;case"7":case"g":o.push(7);break;case"8":o.push(8);break;case"9":o.push(9);break;case"a":case"A":case"R":o.push(10);break;case"b":case"B":case"P":o.push(11);break;case"c":case"C":case"p":o.push(12);break;case"d":case"D":case"O":o.push(13);break;case"e":case"E":case"Y":o.push(14);break;case"f":case"F":case"W":o.push(15)}o.length&&(a.push(o),r=Math.max(r,o.length))}for(var l=a.length,u=new z(r,l),d=0;d<l;d++)for(var p=a[d],f=0;f<r;f++)f<p.length?u.set(f,d,p[f]):u.set(f,d,0);return u}(e),t,void 0,void 0,void 0,n)}function P(e,t,n,a,r,i){return{width:e.width,height:e.height,data:n||W(e),previewURI:X(e,t),qualifiedName:a,tilemapTile:r,sourceFile:i}}function L(e){return function(e,t){var n="";switch(t){case"python":n='img("""';break;default:n="img`"}if(e)for(var a=0;a<e.height;a++){n+="\n";for(var r=0;r<e.width;r++)n+=U[e.get(r,a)]+" "}switch(n+="\n",t){case"python":n+='""")';break;default:n+="`"}return n}($(e.data),"typescript")}var U=[".","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function G(e,t){var n=H(t);return function(e,t,n){for(var a="img`\n    ",r=0;r<t;r++){for(var i=[],s=0;s<e;s++)i.push(n(s,r));a+=i.map((function(e){return e.toString(16)})).join(" "),a+="\n    "}return a+="`"}(e.width,e.height,(function(t,a){var r=a*e.width+t;return q(e.pixels,r<<2,n)}))}function H(e){for(var t=[],n=0;n<e.length;n++){var a=Z(e[n]);t.push([Y(a),K(a),Q(a)])}return t}function V(e){return e*e}function q(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(a&&e[t+3]<100)return 0;for(var r=0,i=-1,s=a?1:0;s<n.length;++s){var o=V(n[s][0]-e[t+0])+V(n[s][1]-e[t+1])+V(n[s][2]-e[t+2]);(i<0||o<r)&&(i=s,r=o)}return i}function F(e,t,n,a){for(var r=d(224|n)+d(e)+d(t)+"00",i=4,s=0,o=0,c=function(e){s|=e<<o,o==8-n?(r+=d(s),i++,s=0,o=0):o+=n},l=0;l<e;++l){for(var u=0;u<t;++u)c(a(l,u));for(;0!=o;)c(0);if(n>1)for(;3&i;)c(0)}return r;function d(e){return("0"+e.toString(16)).slice(-2)}}function W(e){var t=F(e.width,e.height,4,(function(t,n){return e.get(t,n)}));return btoa(C(function(e){for(var t=new Uint8ClampedArray(e.length>>1),n=0;n<e.length;n+=2)t[n>>1]=parseInt(e.slice(n,n+2),16);return t}(t)))}function Y(e){return e>>16&255}function K(e){return e>>8&255}function Q(e){return 255&e}function Z(e){if(e){if(6===e.length)return parseInt("0x"+e);if(7===e.length)return parseInt("0x"+e.substr(1))}return 0}var z=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;Object(o.a)(this,e),this.width=t,this.height=n,this.x0=a,this.y0=r,this.buf=void 0,this.buf=i||new Uint8ClampedArray(this.dataLength())}return Object(c.a)(e,[{key:"set",value:function(e,t,n){if(e<this.width&&t<this.height&&e>=0&&t>=0){var a=this.coordToIndex(e,t);this.setCore(a,n)}}},{key:"get",value:function(e,t){if(e<this.width&&t<this.height&&e>=0&&t>=0){var n=this.coordToIndex(e,t);return this.getCore(n)}return 0}},{key:"coordToIndex",value:function(e,t){return e+t*this.width}},{key:"getCore",value:function(e){var t=Math.floor(e/2);return e%2===0?15&this.buf[t]:(240&this.buf[t])>>4}},{key:"setCore",value:function(e,t){var n=Math.floor(e/2);this.buf[n]=e%2===0?240&this.buf[n]|15&t:15&this.buf[n]|(15&t)<<4}},{key:"dataLength",value:function(){return Math.ceil(this.width*this.height/2)}}]),e}();function $(e){var t=atob(e.slice(e.indexOf(",")+1)),n=t.charCodeAt(0),a=t.charCodeAt(1),r=t.charCodeAt(2);135===n&&(n=224|t.charCodeAt(1),a=t.charCodeAt(2)|t.charCodeAt(3)<<8,r=t.charCodeAt(4)|t.charCodeAt(5)<<8,t=t.slice(4));var i=new z(a,r),s=4;if(225===n)for(var o=1,c=t.charCodeAt(s++),l=0;l<a;++l)for(var u=0;u<r;++u)i.set(l,u,c&o?1:0),256==(o<<=1)&&(o=1,c=t.charCodeAt(s++));else for(var d=0;d<a;d++){for(var p=0;p<r;p+=2){var f=t.charCodeAt(s++);i.set(d,p,15&f),p!=r-1&&i.set(d,p+1,f>>4&15)}for(;3&s;)s++}return i}function X(e,t){var n=document.createElement("canvas");n.width=e.width,n.height=e.height;var a=n.getContext("2d");if(a)for(var r=0;r<e.width;r++)for(var i=0;i<e.height;i++){var s=e.get(r,i);s&&(a.fillStyle=t[s],a.fillRect(r,i,1,1))}return n.toDataURL()}var ee=n(12),te="https://makecode.com/api",ne=["#000000","#ffffff","#ff2121","#ff93c4","#ff8135","#fff609","#249ca3","#78dc52","#003fad","#87f2ff","#8e2ec4","#a4839f","#5c406c","#e5cdc4","#91463d","#000000"];function ae(){return(ae=Object(m.a)(f.a.mark((function e(t){var n,a,r,i,s,o,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return-1!==(n=t.trim()).indexOf("/")&&(n=n.substr(n.lastIndexOf("/")+1)),e.next=4,oe(te+"/"+n);case 4:return a=e.sent,e.next=7,oe(te+"/"+n+"/text");case 7:if(r=e.sent,i=r["pxt.json"],s=ne,o=!1,i)try{(null===(c=JSON.parse(i))||void 0===c?void 0:c.palette)&&Array.isArray(c.palette)&&(s=c.palette.slice(),o=!0)}catch(u){}return l=re(r),e.abrupt("return",{meta:a,files:r,projectImages:l,customPalette:o?s:void 0});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne,a=Object.keys(e).filter((function(e){return e.endsWith(".ts")||e.endsWith(".jres")})),r=[],i=Object(h.a)(a);try{for(i.s();!(t=i.n()).done;){var s=t.value,o=e[s];s.endsWith("jres")?r.push.apply(r,Object(ee.a)(ie(o,s,n))):r.push.apply(r,Object(ee.a)(se(o,s,n)))}}catch(f){i.e(f)}finally{i.f()}for(var c={},l=0,u=r;l<u.length;l++){var d=u[l],p=c[d.data];(!p||!p.qualifiedName&&d.qualifiedName)&&(c[d.data]=d)}return Object.keys(c).map((function(e){return c[e]}))}function ie(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ne;try{n=JSON.parse(e)}catch(p){return[]}for(var r=n["*"],i=(null===r||void 0===r?void 0:r.mimeType)||"",s=(null===r||void 0===r?void 0:r.namespace)||"",o=[],c=0,l=Object.keys(n);c<l.length;c++){var u=l[c];if("*"!==u){var d=n[u];"string"===typeof d?"image/x-mkcd-f4"===i&&o.push(B(d,a,s?s+"."+u:u,!1,t)):"image/x-mkcd-f4"===d.mimeType&&o.push(B(d.data,a,s?s+"."+u:u,d.tilemapTile,t))}}return o}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ne,a=/img\s*`[\s\da-f.#tngrpoyw]*`/gim,r=[];return e.replace(a,(function(e){return r.push(J(e,n,t)),""})),r}function oe(e){return new Promise((function(t,n){var a=new XMLHttpRequest;a.addEventListener("error",(function(e){n(e)})),a.addEventListener("load",(function(){try{t(JSON.parse(a.responseText))}catch(e){n(e)}})),a.open("GET",e),a.send()}))}function ce(e){return e?new Promise((function(t,n){var a=new FileReader;a.onerror=function(e){return t(null)},a.onload=function(e){return t(new Uint8Array(a.result))},a.readAsArrayBuffer(e)})):Promise.resolve(null)}n(25);var le=n(11);function ue(e){var t=le.LZMA;return new Promise((function(n,a){try{t.decompress(e,(function(e,t){t?a(t):n(e)}))}catch(r){a(r)}}))}var de='\nconst padding = 10;\nconst speed = 50;\ngame.onUpdate(function() {\n    for (const sprite of sprites.allOfKind(SpriteKind.Player)) {\n        if (sprite.vx > 0 && sprite.x >= screen.width - padding) {\n            sprite.x = screen.width - padding;\n            sprite.vx = 0;\n            sprite.vy = speed;\n        }\n        else if (sprite.vy > 0 && sprite.y >= screen.height - padding) {\n            sprite.y = screen.height - padding;\n            sprite.vx = -speed;\n            sprite.vy = 0;\n        }\n        else if (sprite.vx < 0 && sprite.x <= padding) {\n            sprite.x = padding;\n            sprite.vx = 0;\n            sprite.vy = -speed;\n        }\n        else if (sprite.vy < 0 && sprite.bottom <= 0) {\n            sprite.destroy();\n        }\n    }\n})\n\nlet index = 0;\ngame.onUpdateInterval(700, function() {\n    const asset = sprites.create(allImages[index], SpriteKind.Player);\n    asset.x = padding;\n    asset.y = padding;\n    asset.vx = speed;\n    asset.setFlag(SpriteFlag.Ghost, true)\n    index = (index + 1) % allImages.length;\n})\n\nlet line1 = sprites.create(img`0`, SpriteKind.Food)\nline1.say("PRESS A TO  ")\n\nlet line2 = sprites.create(img`0`, SpriteKind.Food)\nline2.say("CHANGE COLOR")\nline2.top += 10\n\nlet bgColor = 0;\ncontroller.player1.onButtonEvent(ControllerButton.A, ControllerButtonEvent.Pressed, function() {\n    scene.setBackgroundColor(bgColor);\n    bgColor = (bgColor + 1) % 15\n})';function pe(e,t,n,a){var r=JSON.stringify({name:e,dependencies:{device:"*"},description:"An asset pack for MakeCode Arcade",files:["main.blocks","main.ts","assets.jres","assets.ts"],testFiles:["test.ts"]},null,4),i={};i["pxt.json"]=r,i["main.ts"]='/*\n * This project was created using arcade-sprite-pack. If you\n * want to publish this project to GitHub as a sprite pack, do\n * not add any code to this file! The code that is running in the\n * simulator can be edited by clicking on the file explorer to the\n * left and selecting "test.ts". Any code added to "test.ts" will\n * not be added to a project that imports this sprite pack as an\n * extension.\n *\n * If you don\'t wish to publish this project, you can use this project\n * as-is. Your sprites should show up in the sprite gallery. Make sure\n * you delete the code in "test.ts"!\n *\n *\n * To publish this project to GitHub:\n *   1. Rename this project to something descriptive\n *   2. Click the GitHub button in the bottom bar next to the save\n *      button (sign in to GitHub if prompted)\n *   3. Choose a name for your repository. This is the name that\n *      people will see when importing your project.\n *   4. Make sure "public repository" is selected in the dropdown\n *      if you want other people to be able to use your sprites\n *   5. Click "go ahead"\n *   6. If you are on a shared computer, make sure you sign out of\n *      GitHub!\n *\n *\n * To add a published project to an Arcade project:\n *   1. Inside the MakeCode editor, click "Extensions" under "Advanced"\n *      in the toolbox\n *   2. Inside the search box that appears, type your GitHub username\n *      followed by a "/" and the name of the repository. It should\n *      look something like this: username/repository\n *   3. Hit enter on your keyboard and click the card that appears\n *   4. The sprites should now show up in the gallery of the sprite\n *      editor (at the bottom)\n * */\n',i["test.ts"]=a,i["assets.ts"]=t,i["assets.jres"]=n,i["README.md"]="",i["main.blocks"]='<xml xmlns="http://www.w3.org/1999/xhtml"><variables></variables><block type="pxt-on-start" x="0" y="0"></block></xml>';var s={meta:{cloudId:"pxt/arcade",targetVersions:{},name:e,editor:"tsprj"},source:JSON.stringify(i)};return function(e){var t=le.LZMA;return new Promise((function(n,a){try{t.compress(e,7,(function(e,t){t?a(t):n(new Uint8Array(e))}))}catch(r){a(r)}}))}(JSON.stringify(s))}function fe(){return(fe=Object(m.a)(f.a.mark((function e(t,n){var a,r,i,s,o,c,l,u,d,p,m,A;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A=function(e){var t=O(e);if(!i[t])return i[t]=!0,t;for(var n=2;i[t+n];)n++;return i[t+n]=!0,t+n},a="",r={},i={},s=O(t)+"Sprites",o=[],r["*"]={namespace:s,mimeType:"image/x-mkcd-f4"},c=Object(h.a)(n);try{for(c.s();!(l=c.n()).done;)u=l.value,d=A(u.name),u.jres.tilemapTile?(r[d]={id:d,data:u.jres.data,tilemapTile:!0,mimeType:"image/x-mkcd-f4"},a+="    //% fixedInstance jres blockIdentity=images._tile\n"):(r[d]=u.jres.data,a+="    //% fixedInstance jres blockIdentity=images._image\n"),a+="    export const ".concat(d," = image.ofBuffer(hex``);\n"),o.push(s+"."+d)}catch(f){c.e(f)}finally{c.f()}return a="namespace ".concat(s," {\n").concat(a,"\n}\n"),p="const allImages = [".concat(o.join(","),"]\n").concat(de),e.next=13,pe(t,a,JSON.stringify(r),p);case 13:return m=e.sent,e.abrupt("return",g(m,t+".mkcd"));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=Object(m.a)(f.a.mark((function e(t,n){var a,r,i,s,o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=function(e){var t=O(e);if(!r[t])return r[t]=!0,t;for(var n=2;r[t+n];)n++;return r[t+n]=!0,t+n},a="",r={},i=Object(h.a)(n);try{for(i.s();!(s=i.n()).done;)o=s.value,a+="const ".concat(c(o.name)," = ").concat(L(o.jres),";\n")}catch(l){i.e(l)}finally{i.f()}return e.abrupt("return",b(a,t+".ts"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me={data:"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==",previewURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAH0lEQVQ4T2NkoBAwUqifYdQAhtEwYBgNA1A+Gvi8AAAmmAARf9qcXAAAAABJRU5ErkJggg==",width:16,height:16},Ae=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e))._items=void 0,a._importInputRef=void 0,a._exportInputRef=void 0,a._dragInit=!1,a.handleMessage=function(e){var t=e.data;switch(t.type){case"ready":a.loadJres(a._items[a.state.selected]);break;case"update":var n=B(t.message,ne);if(void 0!==a.state.saving){var r=a.state.saving;a._items[a.state.selected].jres=n,a.setState({items:a._items,selected:r,saving:void 0})}else a._items[a.state.selected].jres=n,a.setState({items:a._items})}},a.autosaveJres=function(){a.state.saving||a.getJres(),setTimeout(a.autosaveJres,1500)},a.loadJres=function(e){a.props.postMessage({type:"initialize",message:e.jres.data})},a.getJres=function(){a.props.postMessage({type:"update"})},a.onAssetClick=function(e){return function(){a.setState({saving:e})}},a.onAssetRename=function(e){return function(t){a.renameAsset(e,t)}},a.onAssetDelete=function(){a._items.length>1?a.setState({alert:{type:"delete",icon:"exclamation triangle",title:"Warning!",text:"Deleting an image is permanent. You will not be able to undo this action.",options:[{text:"Delete",onClick:function(){a.deleteAsset(a.state.selected),a.hideAlert()}}]}}):a.setState({alert:{type:"warning",icon:"ban",title:"Unable to delete",text:"You must have at least one image in your project."}})},a.onAddButtonClick=function(){a.addAsset("mySprite")},a.onDeleteButtonClick=function(){a.setState({alert:{type:"delete",icon:"exclamation triangle",title:"WARNING",text:"This will delete ALL assets in this project. You will not be able to undo this action.",options:[{text:"Delete All",style:{backgroundColor:"#dc3f34"},onClick:function(){a.clearAssets(),a.hideAlert()}}]}})},a.onImportButtonClick=function(){a.setState({alert:{type:"import",icon:"upload",title:"Import Sprites",text:"Paste a URL from MakeCode Arcade or drag and drop PNG files to import existing sprites.",options:[{text:"Import",onClick:function(){a.importAssets(a._importInputRef.value),a.hideAlert()}}]}})},a.onImportDragEnter=function(e){a.setState({dragging:!0})},a.onImportDragLeave=function(e){a.setState({dragging:!1})},a.onExportButtonClick=function(){a.getJres(),a.setState({alert:{type:"export",icon:"download",title:"Export Sprite Pack",text:"Export your sprites as an .mckd project to load directly into Arcade, or as a .ts file with your images encoded.",options:[{text:"Download MKCD",onClick:function(){a.hideAlert(),function(e,t){fe.apply(this,arguments)}(a._exportInputRef.value||"spritePack",a.state.items)}},{text:"Download TS",onClick:function(){a.hideAlert(),function(e,t){he.apply(this,arguments)}(a._exportInputRef.value||"spritePack",a.state.items)}}]}})},a.hideAlert=function(){a.setState({alert:void 0})},a.handleImportInputRef=function(e){a._importInputRef=e},a.handleExportInputRef=function(e){a._exportInputRef=e},a.handleDropRef=function(e){var t,n,r;a._dragInit||(a._dragInit=!0,t=document.body,n=function(e){return!0},r=function(){var e=Object(m.a)(f.a.mark((function e(t){var n,r,i,s,o,c,l,u,d,p,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(h.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=30;break}if(i=r.value,s=i.name.lastIndexOf("."),o=i.name.substr(s),c=i.name.slice(0,s),".png"!==o.toLowerCase()){e.next=19;break}return e.next=11,ce(i);case 11:if(!(l=e.sent)){e.next=17;break}return e.next=15,R(l,ne);case 15:(u=e.sent)&&(a.addAsset(c,u),a.hideAlert());case 17:e.next=28;break;case 19:if(".mkcd"!==o.toLowerCase()){e.next=28;break}return e.next=22,ce(i);case 22:if(!(d=e.sent)){e.next=28;break}return e.next=26,ue(d);case 26:p=e.sent;try{m=JSON.parse(p),re(JSON.parse(m.source)).forEach((function(e){a._items.push({name:e.qualifiedName||a.getValidAssetName("mySprite"),jres:e})})),a.setState({items:a._items}),a.hideAlert()}catch(f){}case 28:e.next=3;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(1),n.e(e.t0);case 35:return e.prev=35,n.f(),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[1,32,35,38]])})));return function(t){return e.apply(this,arguments)}}(),t.addEventListener("paste",(function(e){if(e.clipboardData){for(var t=[],a=0;a<e.clipboardData.files.length;a++)e.clipboardData.files.item(a)&&t.push(e.clipboardData.files.item(a));if((t=t.filter(n)).length>0)e.stopPropagation(),e.preventDefault(),r(t);else if(e.clipboardData.items&&e.clipboardData.items.length>0){var i=e.clipboardData.items[0].getAsFile();i&&(e.stopPropagation(),e.preventDefault(),r([i]))}}})),t.addEventListener("dragover",(function(e){if(e.dataTransfer){for(var t=e.dataTransfer.types,n=!1,a=0;a<t.length;++a)"Files"===t[a]&&(n=!0);if(n)return e.preventDefault&&e.preventDefault(),e.dataTransfer.dropEffect="copy",!1}return!0}),!1),t.addEventListener("drop",(function(e){if(e.dataTransfer){for(var t=[],n=0;n<e.dataTransfer.files.length;n++)e.dataTransfer.files.item(n)&&t.push(e.dataTransfer.files.item(n));t.length>0&&(e.stopPropagation(),e.preventDefault(),r(t))}return!1}),!1),t.addEventListener("dragend",(function(e){return!1}),!1))};var r=window.localStorage.getItem("SPRITE_DATA"),i=r&&JSON.parse(r);return a._items=i||[{name:"mySprite",jres:Object(d.a)({},me)}],a.state={items:a._items,selected:0},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleMessage),this.loadJres(this._items[this.state.selected]),setTimeout(this.autosaveJres,1500)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleMessage),window.localStorage.setItem("SPRITE_DATA",JSON.stringify(this._items))}},{key:"componentDidUpdate",value:function(e,t){void 0!==this.state.saving&&void 0===t.saving&&this.getJres(),this.state.selected===t.selected&&0!==this.state.selected||this.loadJres(this._items[this.state.selected]),window.localStorage.setItem("SPRITE_DATA",JSON.stringify(this._items))}},{key:"addAsset",value:function(e,t){this._items.push({name:this.getValidAssetName(e||"mySprite"),jres:t||Object(d.a)({},me)}),this.setState({items:this._items,saving:this._items.length-1})}},{key:"deleteAsset",value:function(e){this._items.splice(e,1),this.setState({items:this._items,selected:Math.max(e-1,0)})}},{key:"renameAsset",value:function(e,t){this._items[e].name!==t&&(this._items[e].name=this.getValidAssetName(t),this.setState({items:this._items}))}},{key:"clearAssets",value:function(){this._items.length=0,this._items.push({name:this.getValidAssetName("mySprite"),jres:Object(d.a)({},me)}),this.setState({items:this._items,selected:0})}},{key:"importAssets",value:function(e,t){var n=this;(function(e){return ae.apply(this,arguments)})(e).then((function(e){t&&(n._items=[]),e.projectImages.forEach((function(e){n._items.push({name:e.qualifiedName||n.getValidAssetName("mySprite"),jres:e})})),n.setState({items:n._items})}))}},{key:"getAssetIndex",value:function(e){return this._items.findIndex((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}},{key:"getValidAssetName",value:function(e){for(e=e.replace(/[^a-zA-Z0-9]/g,"");this.getAssetIndex(e)>=0;){var t=e.match(/^(.*?)(\d+)$/);e=t?t[1]+(parseInt(t[2],10)+1):e+"2"}return e}},{key:"render",value:function(){var e=this,t=this.state,n=t.items,a=t.selected,i=t.dragging,s=t.alert;return r.a.createElement("div",{id:"asset-list"},s&&r.a.createElement(A,{icon:s.icon,title:s.title,text:s.text,options:s.options,visible:!0,onClose:this.hideAlert},"import"===s.type&&r.a.createElement("div",{className:"asset-import"},r.a.createElement("div",{className:"asset-drop ".concat(i?"dragging":""),ref:this.handleDropRef,onDragEnter:this.onImportDragEnter,onDragLeave:this.onImportDragLeave},"Drop PNG files here to import."),r.a.createElement("input",{ref:this.handleImportInputRef,placeholder:"https://makecode.com/_r8fboJQTDPtH or https://arcade.makeode.com/62736-71128-62577-28722"})),"export"===s.type&&r.a.createElement("div",{className:"asset-export"},r.a.createElement("input",{ref:this.handleExportInputRef,placeholder:"Enter a name for your project..."}))),r.a.createElement("div",{className:"asset-list-buttons"},r.a.createElement("div",{className:"asset-button",title:"Add asset",onClick:this.onAddButtonClick},r.a.createElement("i",{className:"icon plus square outline"})),r.a.createElement("div",{className:"asset-button",title:"Clear all assets",onClick:this.onDeleteButtonClick},r.a.createElement("i",{className:"icon delete"})),r.a.createElement("div",{className:"asset-button",title:"Import assets",onClick:this.onImportButtonClick},r.a.createElement("i",{className:"icon upload"})),r.a.createElement("div",{className:"asset-button",title:"Export assets",onClick:this.onExportButtonClick},r.a.createElement("i",{className:"icon download"}))),r.a.createElement("div",null,n.map((function(t,n){return r.a.createElement(v,{key:n,info:t,selected:n===a,onClick:e.onAssetClick(n),onRename:e.onAssetRename(n),onDelete:e.onAssetDelete})}))))}}]),n}(r.a.Component),ve=(n(29),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).iframe=void 0,e.postMessage=function(t){e.iframe&&e.iframe.contentWindow&&(t._fromVscode=!0,e.iframe.contentWindow.postMessage(t,"*"))},e.onMouseEnter=function(){var t,n;null===(t=e.iframe)||void 0===t||null===(n=t.contentWindow)||void 0===n||n.focus()},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.iframe=document.getElementById("editor")}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement("iframe",{id:"editor",onMouseEnter:this.onMouseEnter,title:"MakeCode Arcade sprite editor",src:"https://arcade.makecode.com/beta--asseteditor"}),r.a.createElement(Ae,{postMessage:this.postMessage}))}}]),n}(r.a.Component));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.79be8ac7.chunk.js.map